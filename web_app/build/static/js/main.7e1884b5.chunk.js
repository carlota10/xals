(this.webpackJsonpweb_app=this.webpackJsonpweb_app||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),c=n.n(i),o=(n(103),n(63)),s=n(40),l={en:{translation:{new:"new",cancelled:"cancelled",table:"table",cancel:"cancel",finish:"finish",delete:"delete",custom:"custom",no:"no",yes:"yes",confirm:"confirm",submit:"submit","table #":"table #",save:"save",description:"description",next:"next",finalize:"finalize",administratorEmail:"administrator email",descriptionAddAdmin:"this will add a new root administrator to the system; root administrators have complete access to all restaurants and users (including other administrators)",errorAdminRetrieval:"unable to retrieve root administrators",addAdmin:"added new root administrator",errorAddAdmin:"unable to add new root administrator","root administrators":"root administrators","administrator deleted":"administrator deleted","administrator not deleted":"administrator not deleted",descriptionNewAdmin:"this will add a new administrator to the system; restaurant administrators can manage the access urls of their restaurants and the default tables",addNewAdmin:"added new restaurant administrator",timeLastCourse:"last course was served at",dessertsAndEnd:"desserts & finalize","next course":"next course","new table":"new table",startTimerTable:"start timer for a new table",markedFinish:"has been marked as finished",servedWaiting:"has been served... now waiting for","has been deleted":"has been deleted",askContinue:"Do you wish to continue?",difficultUndone:"this action might not be easily undone",errorPageAccess:"you can't access this page","something went wrong":"something went wrong","unable to finalize request":"unable to finalize request","unable to delete default table":"unable to delete default table","unable to add new default table":"unable to add new default table","unable to log out with server":"unable to log out with server","unable to log out with Google":"unable to log out with Google","unable to retrieve access tokens":"unable to retrieve access tokens","unable to delete access token":"unable to delete access token","unable to retrieve default tables":"unable to retrieve default tables","unable to retrieve restaurant administrators":"unable to retrieve restaurant administrators","unable to add new restaurant administrator":"unable to add new restaurant administrator","unable to retrieve restaurants":"unable to retrieve restaurants","unable to add new restaurant":"unable to add new restaurant","unable to retrieve restaurant":"unable to retrieve restaurant","unable to log in with the server":"unable to log in with the server","unable to log in with Google":"unable to log in with Google","unable to delete administrator":"unable to delete administrator",deleteTableQuestion:"Do you want to delete Table","Deleting Table":"Deleting Table",onlyDeleteFromList:"will only remove it from the default tables list.","deleted default table":"deleted default table",nameTableQuestion:"what is the name of the new table you want to add?","added new default table":"added new default table","ADD NEW":"ADD NEW","restaurant deleted":"restaurant deleted","unable to delete restaurant":"unable to delete restaurant","restaurant not deleted":"restaurant not deleted","restaurant name saved":"restaurant name saved","restaurant name":"restaurant name",descriptionNewRestaurant:"this will add a new restaurant to the system","added new restaurant":"added new restaurant",disablePrivacyMode:"disable the privacy mode on the top right corner first",urlCopiedPrivate:"the url has been copied to your clipboard, keep it private!","access token comment saved":"access token comment saved","time profile saved":"time profile saved","deleted access token":"deleted access token",deleteTokenQuestion:"Do you want to delete the access token?",deleteTokenDescription:"Deleting the access token will render that url invalid (even for people who already had it).",descriptionUseUrl:"write a small description of the uses of this url (good examples would include who will this access url be given to, or which team will have access to it)","user does not exist":"user does not exist","logged out":"logged out","logged in":"logged in",Login:"Login"}},es:{translation:{new:"nuevo",cancelled:"cancelado",table:"mesa",cancel:"cancelar",finish:"terminar",delete:"eliminar",custom:"personalizado",no:"no",yes:"si",confirm:"confirmar",submit:"enviar","table #":"mesa #",save:"guardar",description:"descripci\xf3n",next:"siguiente",finalize:"finalizar",administratorEmail:"email del administratorx ",descriptionAddAdmin:"esta acci\xf3n a\xf1adira unx nuevx administradorx root al sistema; lxs administradorxs root tienen acceso completo a todos los restaurantes y usuarios (incluso a otrxs administradorxs)",addAdmin:"se ha a\xf1adido unx nuevx administradorx root","root administrators":"administradorxs root","administrator deleted":"administradorx eliminadx","administrator not deleted":"administradorx no eliminadx",descriptionNewAdmin:"esta acci\xf3n a\xf1adira unx nuevx administradorx al sistema; lxs administradorxs de restaurante pueden gestionar los enlaces de acceso de sus restaurantes y las mesas predeterminadas",addNewAdmin:"se ha a\xf1adido unx nuevx administradorx de restaurante",timeLastCourse:"el \xfaltimo plato fue servido a la(s)",dessertsAndEnd:"postres y finalizar","next course":"siguiente plato","new table":"nueva mesa",startTimerTable:"empezar el temporizador para una nueva mesa",markedFinish:"ha sido marcada como terminada",servedWaiting:"ha sido servida... ahora esperando a","has been deleted":"ha sido eliminada",askContinue:"Desea continuar?",difficultUndone:"esta acci\xf3n no se podr\xe1 deshacer f\xe1cilmente",errorPageAccess:"no puedes acceder a esta p\xe1gina","something went wrong":"algo ha ido mal","unable to finalize request":"no se ha podido continuar con la solicitud","unable to delete default table":"no se ha podido eliminar la mesa predeterminada","unable to add new default table":"no se ha podido a\xf1adir una nueva mesa predeterminada","unable to log out with server":"no se ha podido cerrar sesi\xf3n con el servidor","unable to log out with Google":"no se ha podido cerrar sesi\xf3n con Google","unable to retrieve access tokens":"no se han podido obtener los tokens de acceso","unable to delete access token":"no se ha podido eliminar el token de acceso","unable to retrieve default tables":"no se ha podido obtener la lista de mesas predeterminadas","unable to retrieve restaurant administrators":"no se ha podido obtener la lista de lxs administradorxs del restaurante","unable to add new restaurant administrator":"no se ha podido a\xf1adir unx nuevx administradorx al restaurante","unable to retrieve restaurants":"no se ha podido obtener la lista de restaurantes","unable to add new restaurant":"no se ha podido a\xf1adir un nuevo restaurante","unable to retrieve restaurant":"no se ha podido obtener el restaurante","unable to log in with the server":"no se ha podido iniciar sesi\xf3n con el servidor","unable to log in with Google":"no se ha podido iniciar sesi\xf3n con Google","unable to delete administrator":"no se ha podido eliminar al administradorx",errorAdminRetrieval:"no se ha podido obtener la lista de administradorxs root",errorAddAdmin:"no se ha podido a\xf1adir unx nuevx administradorx root","unable to delete restaurant":"no se ha podido eliminar el restaurante",deleteTableQuestion:"Quieres eliminar la mesa","Deleting Table":"Eliminando Mesa",onlyDeleteFromList:"solo la sacar\xe1 de la lista de mesas predeterminadas.","deleted default table":"mesa predeterminada eliminada",nameTableQuestion:"\xbfQu\xe9 nombre tiene la mesa que quieres a\xf1adir?","added new default table":"nueva mesa predeterminada a\xf1adida","ADD NEW":"A\xd1ADIR NUEVX","restaurant deleted":"restaurante eliminado","restaurant not deleted":"restaurante no eliminado","restaurant name saved":"nombre del restaurante guardado","restaurant name":"nombre del restaurante",descriptionNewRestaurant:"esta acci\xf3n a\xf1adir\xe1 un nuevo restaurante al sistema","added new restaurant":"nuevo restaurante a\xf1adido",disablePrivacyMode:"primero desactiva el modo privado en la esquina superior derecha",urlCopiedPrivate:"el enlace ha sido copiado al portapapeles, \xa1no lo compartas!","access token comment saved":"el comentario del token de acceso ha sido guardado","time profile saved":"perfil de tiempo guardadp","deleted access token":"token de acceso eliminado",deleteTokenQuestion:"\xbfQuieres eliminar el token de acceso?",deleteTokenDescription:"Al eliminar el token de acceso, el enlace dejar\xe1 de funcionar (incluso para aquellos que ya lo tienen)",descriptionUseUrl:"escribe una peque\xf1a descripci\xf3n sobre los usos del enlace (por ejemplo: con qui\xe9n se va a compartir, que equipo va a tener acceso al enlace...)","user does not exist":"el usuario no existe","logged out":"sesi\xf3n finalizada","logged in":"sesi\xf3n iniciada",Login:"Iniciar sesi\xf3n"}}};o.a.use(s.e).init({resources:l,lng:"en",interpolation:{escapeValue:!1}});var d=o.a,u=(n(104),n(32)),b=n(10),m=(n(105),n(1));var j=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{class:"headerName",children:"Error 404: Not found page"}),Object(m.jsxs)("div",{class:"center",children:[Object(m.jsx)("img",{src:"not_found_trees.svg",width:"400",height:"280"}),Object(m.jsx)("span",{class:"descriptionName",children:"The page you are trying to access doesn't exist"})]})]})},f=n(3),h=n(8),v=n(4),O="accessToken",x="restaurantAdmin",g="superAdmin",p=r.a.createContext({type:null,setType:function(e){},params:{},setParams:function(e){},loggedIn:!1,isRestaurantAdminLoggedIn:!1,isSuperAdminLoggedIn:!1}),w=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(v.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)({}),s=Object(v.a)(o,2),l={type:i,setType:c,params:s[0],setParams:s[1],loggedIn:null!==i,isRestaurantAdminLoggedIn:i===x,isSuperAdminLoggedIn:i===g};return Object(m.jsx)(p.Provider,{value:l,children:t})},S=["component","type"];var k=function(e){var t=e.component,n=e.type,a=void 0===n?null:n,i=Object(h.a)(e,S),c=r.a.useContext(p);return Object(m.jsx)(b.b,Object(f.a)(Object(f.a)({},i),{},{render:function(e){return!c.loggedIn||null!==a&&!a.includes(c.type)?Object(m.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}}):Object(m.jsx)(t,Object(f.a)(Object(f.a)({},e),i))}}))},C=n(14),y=n(5),N=n(16),_=["attributes","children"],T={"p-6":!0,"max-w-sm":!1,"bg-white":!0,"inline-block":!1,"rounded-md":!0,"shadow-lg":!0,"overflow-auto":!0};var E=function(e){var t=e.attributes,n=void 0===t?T:t,a=e.children,r=void 0===a?null:a,i=Object(h.a)(e,_);return Object(m.jsx)("div",Object(f.a)(Object(f.a)({className:Object(N.a)(Object(f.a)(Object(f.a)({},T),n))},i),{},{children:r}))},A=["attributes"],P={"w-full":!0,"h-36":!0,"cursor-pointer":!0,"transform transition":!0,"select-none":!0};var L=function(e){var t=e.attributes,n=void 0===t?P:t,a=Object(h.a)(e,A);return Object(m.jsx)(E,Object(f.a)({attributes:Object(f.a)(Object(f.a)({},P),n)},a))},D=n(50),R=function(e){return function(e,t){if(t<=0)throw"n must be > 0, '".concat(t,"' is an invalid padding");return String(e).padStart(t,"0")}(e,2)},F=["hours","minutes","seconds","milliseconds"],I=function(e,t){if(!F.includes(t))throw"precision '".concat(t,"' is not a valid precision; must be one of ").concat(F);var n=e.map(R),a=Object(v.a)(n,4),r=a[0],i=a[1],c=a[2],o=a[3];switch(t){case F[0]:return r;case F[1]:return"".concat(r,":").concat(i);case F[2]:return"".concat(r,":").concat(i,":").concat(c);case F[3]:return"".concat(r,":").concat(i,":").concat(c,":").concat(o)}};function H(e){var t,n=e.startTime,r=e.notifyDelta,i=void 0===r?function(e){}:r,c=e.refreshIntervalMs,o=void 0===c?1e3:c,s=e.precision,l=void 0===s?"seconds":s,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(a.useState)(e.toUTC()),r=Object(v.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(e.toUTC()),s=Object(v.a)(o,2),l=s[0],d=s[1];return Object(a.useEffect)((function(){c(e)}),[e]),Object(a.useEffect)((function(){var e=setInterval((function(){return d(D.DateTime.now().toUTC())}),t);return function(){return clearInterval(e)}}),[t]),[l-i]}(n,o),u=Object(v.a)(d,1)[0],b=(t=u,[Math.floor(t/36e5%24),Math.floor(t/6e4%60),Math.floor(t/1e3%60),Math.floor(t%1e3)]);return Object(a.useEffect)((function(){i(u)}),[u]),Object(m.jsx)("span",{children:I(b,l)})}var W="bg-gray-50 dark:bg-gray-800",U="bg-gray-50 active:hover:bg-gray-100 dark:bg-gray-800 active:hover:dark:bg-gray-600",M="bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-600",q="bg-gray-100 dark:bg-gray-700",K="bg-gray-200 dark:bg-gray-600",z="text-gray-800 dark:text-gray-50",B="text-gray-700 dark:text-gray-100",V="text-gray-900 dark:text-white",G=["handleHide","children","bgOverlay","bgOpacity","bg","z","disabled"];var Q=function(e){var t=e.handleHide,n=void 0===t?function(){}:t,a=e.children,r=void 0===a?null:a,i=e.bgOverlay,c=void 0===i?"bg-gray-500":i,o=e.bgOpacity,s=void 0===o?"bg-opacity-75":o,l=e.bg,d=void 0===l?W:l,u=e.z,b=void 0===u?"z-10":u,j=e.disabled,v=void 0!==j&&j,O=Object(h.a)(e,G);return Object(m.jsx)("div",Object(f.a)(Object(f.a)({},O),{},{className:"fixed ".concat(b," inset-0 overflow-y-auto"),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(m.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(m.jsx)("div",{className:"fixed inset-0 ".concat(c," ").concat(s," transition-opacity"),"aria-hidden":"true",onClick:function(){v||n()}}),Object(m.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(m.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:Object(m.jsx)("div",{className:"".concat(d," px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),children:r})})]})}))},X=["text","bgColor","textColor","ring","border","attributes","onClick","w","loading"],J={"m-1":!0,"inline-flex":!0,"justify-center":!0,"rounded-md":!0,border:!1,"shadow-sm":!0,"px-4":!0,"py-2":!0,"text-base":!0,"font-medium":!0,"text-white":!0,"focus:outline-none":!0,"focus:ring-2":!0,"focus:ring-offset-2":!0,"sm:ml-3":!0,"sm:text-sm":!0,"disabled:opacity-50":!0,"select-none":!0};function Y(e){var t,n=e.text,a=e.bgColor,r=void 0===a?U:a,i=e.textColor,c=void 0===i?z:i,o=e.ring,s=void 0===o?"focus:ring-gray-500":o,l=e.border,d=void 0===l?W:l,u=e.attributes,b=void 0===u?J:u,j=e.onClick,v=void 0===j?function(){}:j,O=e.w,x=void 0===O?"w-full sm:w-auto":O,g=e.loading,p=void 0!==g&&g,w=Object(h.a)(e,X);return Object(m.jsxs)("button",Object(f.a)(Object(f.a)({onClick:v,type:"button",className:Object(N.a)(Object(f.a)(Object(f.a)({},J),{},(t={},Object(y.a)(t,r,!0),Object(y.a)(t,c,!0),Object(y.a)(t,s,!0),Object(y.a)(t,x,!0),Object(y.a)(t,d,!0),t),b))},w),{},{children:[p&&Object(m.jsx)("span",{className:"animate-ping absolute inline-flex h-5 w-5 rounded-full opacity-75 ".concat(q)}),n]}))}var Z=n(178),$=["attributes","text","onClick"];function ee(e){var t=e.attributes,n=void 0===t?{}:t,a=e.text,r=void 0===a?"no":a,i=e.onClick,c=void 0===i?function(){}:i,o=Object(h.a)(e,$),s=Object(Z.a)(),l=s.t;s.i18n;return Object(m.jsx)(Y,Object(f.a)({onClick:c,text:l(r),bgColor:"bg-red-600 hover:active:bg-red-700",textColor:"text-white",ring:"focus:ring-red-500",border:"border-transparent",attributes:n},o))}var te=["handleHide","title","description","actions","children","icon","disabled"];var ne=function(e){var t=e.handleHide,n=void 0===t?function(){}:t,a=e.title,r=void 0===a?null:a,i=e.description,c=void 0===i?null:i,o=e.actions,s=void 0===o?null:o,l=e.children,d=void 0===l?null:l,u=e.icon,b=void 0===u?null:u,j=e.disabled,v=void 0!==j&&j,O=Object(h.a)(e,te);return Object(m.jsxs)(Q,Object(f.a)(Object(f.a)({handleHide:n,disabled:v},O),{},{children:[Object(m.jsxs)("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(r||c)&&Object(m.jsxs)("div",{className:"sm:flex sm:items-start",children:[b&&Object(m.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:b}),Object(m.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[r&&Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium ".concat(V),id:"modal-title",children:r}),c&&Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsx)("p",{className:"text-sm ".concat(z),children:c})})]})]}),d]}),s&&Object(m.jsx)("div",{className:"".concat(q," px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-lg"),children:s})]}))},ae=["title","description","cancel","confirm","handleSuccess","handleCancel"];var re=function(e){var t=e.title,n=void 0===t?"askContinue":t,a=e.description,i=void 0===a?"difficultUndone":a,c=e.cancel,o=void 0===c?"cancel":c,s=e.confirm,l=void 0===s?"confirm":s,d=e.handleSuccess,u=void 0===d?function(){}:d,b=e.handleCancel,j=void 0===b?function(){}:b,f=(Object(h.a)(e,ae),Object(Z.a)()),v=f.t;return f.i18n,Object(m.jsx)(ne,{handleHide:j,title:v(n),description:v(i),icon:Object(m.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{text:v(o),onClick:j}),Object(m.jsx)(Y,{text:v(l),onClick:u})]})})},ie=r.a.createContext((function(e,t,n,a){})),ce=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(v.a)(n,2),c=i[0],o=i[1],s=function(){return o(!1)},l=Object(a.useState)({title:void 0,description:void 0,handleSuccess:s,handleCancel:s}),d=Object(v.a)(l,2),u=d[0],b=d[1];return Object(m.jsxs)(r.a.Fragment,{children:[c&&Object(m.jsx)(re,{title:u.title,description:u.description,handleSuccess:u.handleSuccess,handleCancel:u.handleCancel}),Object(m.jsx)(ie.Provider,{value:function(e){var t=e.title,n=void 0===t?void 0:t,a=e.description,r=void 0===a?void 0:a,i=e.handleSuccess,c=void 0===i?function(){}:i,l=e.handleCancel,d=void 0===l?function(){}:l;o(!0),b({title:n,description:r,handleSuccess:function(){s(),c()},handleCancel:function(){s(),d()}})},children:t})]})},oe=["attributes","text","onClick"];function se(e){var t=e.attributes,n=void 0===t?{}:t,a=e.text,r=void 0===a?"yes":a,i=e.onClick,c=void 0===i?function(){}:i,o=Object(h.a)(e,oe),s=Object(Z.a)(),l=s.t;s.i18n;return Object(m.jsx)(Y,Object(f.a)({onClick:c,text:l(r),bgColor:"bg-green-500 active:hover:bg-green-600",textColor:"text-white",ring:"focus:ring-green-500",border:"border-transparent",attributes:n},o))}var le=n(91),de=n.n(le);function ue(){return{"X-CSRFToken":de.a.get("X-CSRF-TOKEN")}}var be=n(22),me=n.n(be),je=n(7),fe=function(e,t){var n=Object(je.b)(),i=n.enqueueSnackbar,c=(n.closeSnackbar,r.a.useContext(p)),o=Object(Z.a)(),s=o.t;o.i18n;return Object(a.useEffect)((function(){c.setType(null),function(e,t){return new Promise((function(n,a){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/auth/v1/login/accessToken"),method:"POST",auth:{username:e,password:t},headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return n([!0,e.data])})).catch((function(e){try{401===e.response.status&&n([!1,null])}catch(t){}a(e)}))}))}(e,t).then((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1];n?(c.setType(O),c.setParams(a)):i(s("errorPageAccess"),{variant:"warning"})})).catch((function(e){return i(s("something went wrong"),{variant:"error"})}))}),[e,t]),[c.loggedIn,function(){return c.setType(O)}]},he=n(92),ve=function(e){return e.last_course_datetime=new D.DateTime.fromISO(e.last_course_datetime,{zone:"utc"}),e},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(a.useState)(e),n=Object(v.a)(t,2),r=n[0],i=n[1],c=function(e){return i((function(t){return[].concat(Object(C.a)(t),[e])}))},o=function(e){return i((function(t){return t.splice(e,1),i(Object(C.a)(t))}))};return{queue:r,push:c,serve:o,serveFirst:function(){return o(0)},serveAll:function(){return i([])},isEmpty:function(){return 0===r.length}}},xe=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,ge=r.a.createContext({tables:[],setTables:function(e){},addTable:function(e){},finishTable:function(e){},nextCourse:function(e){},deleteTable:function(e){}}),pe=function(e){var t=e.children,n=Object(je.b)().enqueueSnackbar,r=Object(a.useState)({}),i=Object(v.a)(r,2),c=i[0],o=i[1],s=function(){var e=Object(b.h)().search;return[new URLSearchParams(e).get("id"),new URLSearchParams(e).get("token")]}(),l=Object(v.a)(s,2),d=l[0],u=l[1],j=fe(d,u),h=Object(v.a)(j,2),O=h[0],x=(h[1],Object(a.useState)(null)),g=Object(v.a)(x,2),p=g[0],w=g[1],S=Object(Z.a)(),k=S.t;S.i18n;Object(a.useEffect)((function(){if(O){var e=Object(he.io)(xe);return w(e),function(){return e.close()}}}),[O]),Object(a.useEffect)((function(){null!==p&&(p.on("v1.tables",(function(e){o(function(e){var t={};return e.forEach((function(e){t[e.id]=ve(e)})),t}(e.tables))})),p.on("v1.tables.new",(function(e){o((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(y.a)({},e.table.id,ve(e.table)))}))})),p.on("v1.tables.finish",(function(e){var t=e.table;o((function(e){return delete e[t.id],Object(f.a)({},e)})),n("".concat(k("table")," ").concat(t.number," ").concat(k("markedFinish")),{variant:"success"})})),p.on("v1.tables.next",(function(e){var t=ve(e.table);o((function(e){return e[t.id]=t,Object(f.a)({},e)})),n("".concat(k("table")," ").concat(t.number," ").concat(k("servedWaiting")," ").concat(t.next_course),{variant:"success"})})),p.on("v1.tables.delete",(function(e){var t=e.table;o((function(e){return delete e[t.id],Object(f.a)({},e)})),n("".concat(k("table")," ").concat(t.number," ").concat(k("has been deleted")),{variant:"warning"})})))}),[p]);var C=Oe();Object(a.useEffect)((function(){null!==p&&(C.isEmpty()||(C.queue.map((function(e){p.emit("v1.tables.new",{number:e})})),C.serveAll()))}),[C,p]);var N=Oe();Object(a.useEffect)((function(){null!==p&&(N.isEmpty()||(N.queue.map((function(e){p.emit("v1.tables.finish",{id:e})})),N.serveAll()))}),[N,p]);var _=Oe();Object(a.useEffect)((function(){null!==p&&(_.isEmpty()||(_.queue.map((function(e){p.emit("v1.tables.next",{id:e.id,name:e.name}),console.log(e)})),_.serveAll()))}),[_,p]);var T=Oe();Object(a.useEffect)((function(){null!==p&&(T.isEmpty()||(T.queue.map((function(e){p.emit("v1.tables.delete",{id:e})})),T.serveAll()))}),[T,p]);var E={tables:Object.values(c),setTables:function(){},addTable:function(e){return C.push(e)},finishTable:function(e){return N.push(e)},nextCourse:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(c[e],c[e].next_course),_.push({id:e,name:t?"desserts":parseInt(c[e].next_course)+1})},deleteTable:function(e){return T.push(e)}};return Object(m.jsx)(ge.Provider,{value:E,children:t})},we=["table","handleHide","handleShow"];var Se=function(e){var t=e.table,n=e.handleHide,a=void 0===n?function(){}:n,i=e.handleShow,c=void 0===i?function(){}:i,o=Object(h.a)(e,we),s=r.a.useContext(ie),l=r.a.useContext(ge),d=Object(Z.a)(),u=d.t,b=(d.i18n,"desserts"===t.next_course),j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(),b?s({title:"serve desserts and finalize table?",handleSuccess:function(){l.finishTable(t.id)},handleCancel:function(){c()}}):l.nextCourse(t.id,e)},v=t.last_course_datetime.toLocal();return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(re,{}),Object(m.jsx)(ne,Object(f.a)({handleHide:a,title:"".concat(u("table")," ").concat(t.number),description:"".concat(u("timeLastCourse")," ").concat(R(v.hour),":").concat(R(v.minute)),actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{onClick:a,text:u("cancel")}),!b&&Object(m.jsx)(se,{onClick:function(){return j(!0)},text:u("desserts")}),Object(m.jsx)(se,{onClick:function(){return j(!1)},text:u(b?"finalize":"next")}),Object(m.jsx)(Y,{onClick:function(){a(),s({handleSuccess:function(){l.deleteTable(t.id)},handleCancel:function(){c()}})},text:u("delete")})]})},o))]})},ke=["table"],Ce="alarm",ye="warning";var Ne=function(e){var t=e.table,n=Object(h.a)(e,ke),i=r.a.useContext(p),c=Object(a.useState)(!1),o=Object(v.a)(c,2),s=o[0],l=o[1],d=function(){return l(!0)},u=Object(a.useState)("ok"),b=Object(v.a)(u,2),j=b[0],O=b[1],x=function(e){return e===Ce?{bg:"bg-red-400 hover:bg-red-500",fg:"bg-red-100",text:"text-gray-800"}:e===ye?{bg:"bg-yellow-200 hover:bg-yellow-300",fg:"bg-yellow-100",text:"text-gray-800"}:{bg:"bg-green-200 hover:bg-green-300",fg:"bg-green-50",text:"text-gray-800"}}(j);return Object(m.jsxs)(r.a.Fragment,{children:[s&&Object(m.jsx)(Se,{handleHide:function(){return l(!1)},handleShow:d,table:t}),Object(m.jsx)(L,Object(f.a)(Object(f.a)({attributes:Object(y.a)({},x.bg,!0),onClick:d},n),{},{children:Object(m.jsxs)("div",{className:"flex-2 flex flex-col ".concat(x.text),children:[Object(m.jsx)("div",{className:"flex-1",children:Object(m.jsx)("p",{className:"font-mono text-4xl",children:Object(m.jsx)(H,{startTime:t.last_course_datetime,notifyDelta:function(e){var t=e/6e4;return t>i.params.alarmMinutes?O(Ce):t>i.params.warningMinutes?O(ye):void O("ok")},precision:"seconds"})})}),Object(m.jsxs)("div",{className:"flex space-x-4 pt-4",children:[Object(m.jsx)("div",{className:"text-left",children:Object(m.jsx)("span",{className:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2 bottom-0 left-0 ".concat(x.fg),children:t.next_course})}),Object(m.jsx)("div",{className:"flex-1",children:Object(m.jsx)("p",{className:"font-mono text-right text-4xl",children:t.number})})]})]})}))]})},_e=n(13),Te=["name","label","type","lead","trail","placeholder"];function Ee(e){var t=e.name,n=e.label,a=void 0===n?null:n,r=e.type,i=void 0===r?"text":r,c=e.lead,o=void 0===c?null:c,s=e.trail,l=void 0===s?null:s,d=e.placeholder,u=void 0===d?"":d,b=Object(h.a)(e,Te);return Object(m.jsx)(_e.a,{type:i,name:t,children:function(e){var n=e.field,r=e.form,c=(r.touched,r.errors,e.meta);return Object(m.jsxs)("div",{children:[a&&Object(m.jsx)("label",{for:t,className:"block text-sm font-medium ".concat(z),children:a}),c.touched&&c.error&&Object(m.jsx)("label",{for:t,className:"block text-sm font-medium text-red-700",children:c.error}),Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o&&Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"".concat(B," sm:text-sm"),children:o})}),Object(m.jsx)("input",Object(f.a)(Object(f.a)({},b),{},{type:i,name:t,id:t,className:"block w-full p-2 ".concat(o?"pl-7":""," ").concat(l?"pr-7":""," sm:text-sm text-gray-900 rounded-md"),placeholder:u},n)),l&&Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"".concat(B," sm:text-sm"),children:l})})]})]})}})}var Ae=["title","description","handleHide","handleShow","handleCancel","handleSubmit"];function Pe(e){var t=e.title,n=void 0===t?null:t,a=e.description,i=void 0===a?null:a,c=e.handleHide,o=void 0===c?function(){}:c,s=(e.handleShow,e.handleCancel),l=void 0===s?function(){}:s,d=e.handleSubmit,u=void 0===d?function(e){return new Promise.resolve}:d,b=Object(h.a)(e,Ae),j=Object(Z.a)(),v=j.t;j.i18n;return Object(m.jsx)(_e.c,{initialValues:{question:""},onSubmit:function(e,t){var n=t.setSubmitting,a=t.setErrors;u(e.question).then((function(){o(),n(!1)}),(function(){a({question:v("unable to finalize request")}),n(!1)}))},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(_e.b,{children:Object(m.jsx)(ne,Object(f.a)(Object(f.a)({handleHide:o,title:n,description:i,disabled:t,actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{onClick:function(){o(),l()},text:v("cancel"),disabled:t}),Object(m.jsx)(se,{text:v("submit"),type:"submit",disabled:t,loading:t})]})},b),{},{children:Object(m.jsx)("div",{className:"p-4 pt-4",children:Object(m.jsx)(Ee,{name:"question"})})}))})}})}var Le=r.a.createContext({prompt:function(e,t,n,a){}}),De=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(v.a)(n,2),c=i[0],o=i[1],s=function(){return o(!1)},l=function(){return o(!0)},d=Object(a.useState)({title:null,description:null,handleSubmit:s,handleCancel:s}),u=Object(v.a)(d,2),b=u[0],j=u[1];return Object(m.jsxs)(r.a.Fragment,{children:[c&&Object(m.jsx)(Pe,{title:b.title,description:b.description,handleSubmit:b.handleSubmit,handleCancel:b.handleCancel,handleHide:s,handleShow:l}),Object(m.jsx)(Le.Provider,{value:{prompt:function(e){var t=e.title,n=void 0===t?null:t,a=e.description,r=void 0===a?null:a,i=e.handleSubmit,c=void 0===i?function(){return new Promise.resolve}:i,o=e.handleCancel,d=void 0===o?function(){}:o;j({title:n,description:r,handleSubmit:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){c.apply(void 0,t).then((function(){e.apply(void 0,arguments),s()}),(function(){return n.apply(void 0,arguments)}))}))},handleCancel:function(){s(),d()}}),l()}},children:t})]})},Re=["handleHide","handleShow","addNewTable","existingTableNumbers"],Fe=function(e){var t;return null!==(t=parseInt(e))&&void 0!==t?t:e};function Ie(e){var t=e.handleHide,n=void 0===t?function(){}:t,i=e.handleShow,c=void 0===i?function(){}:i,o=e.addNewTable,s=void 0===o?function(e){}:o,l=e.existingTableNumbers,d=void 0===l?[]:l,u=Object(h.a)(e,Re),b=r.a.useContext(p),j=Object(Z.a)(),O=j.t,x=(j.i18n,Object(a.useState)([])),g=Object(v.a)(x,2),w=g[0],S=g[1];Object(a.useEffect)((function(){var e;S((null!==(e=b.params.defaultTables)&&void 0!==e?e:[]).map((function(e){return e.name})).sort((function(e,t){return Fe(e)-Fe(t)})))}),[b.params.defaultTables]);var k=function(e){return new Promise((function(t,a){s(e),n(),_(!1),t()}))},C=Object(a.useState)(!1),y=Object(v.a)(C,2),N=y[0],_=y[1],T=r.a.useContext(Le);return Object(m.jsx)(r.a.Fragment,{children:Object(m.jsx)(ne,Object(f.a)(Object(f.a)({handleHide:n,title:O("new table"),description:O("startTimerTable"),disabled:!1!==N,actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{onClick:n,text:O("cancel"),disabled:!1!==N}),Object(m.jsx)(se,{onClick:function(){n(),T.prompt({title:O("table #"),handleSubmit:function(e){return new Promise((function(t,n){k(e).then((function(){return t()}),(function(){return n()}))}))},handleCancel:c})},text:O("custom"),disabled:!1!==N})]})},u),{},{children:Object(m.jsx)("div",{className:"p-1 pt-4",children:w.filter((function(e){return!d.includes(e)})).map((function(e){return Object(m.jsx)(Y,{loading:N===e,disabled:!1!==N,onClick:function(){return _(t=e),void k(t);var t},text:e},e)}))})}))})}var He=["addNewTable","existingTableNumbers"];var We=function(e){var t,n=e.addNewTable,i=void 0===n?function(e){}:n,c=e.existingTableNumbers,o=void 0===c?[]:c,s=Object(h.a)(e,He),l=Object(Z.a)(),d=l.t,u=(l.i18n,Object(a.useState)(!1)),b=Object(v.a)(u,2),j=b[0],O=b[1],x=function(){return O(!0)};return Object(m.jsxs)(r.a.Fragment,{children:[j&&Object(m.jsx)(Ie,{handleHide:function(){return O(!1)},handleShow:x,addNewTable:i,existingTableNumbers:o}),Object(m.jsx)(L,Object(f.a)(Object(f.a)({onClick:x,attributes:(t={"border-4":!0,"border-dashed":!0},Object(y.a)(t,M,!0),Object(y.a)(t,z,!0),t)},s),{},{disabled:!1,children:Object(m.jsx)("div",{className:"h-full w-full flex flex-wrap content-center text-center justify-center",children:Object(m.jsx)("p",{className:"font-mono text-4xl",children:d("new")})})}))]})},Ue="priority",Me="number-ascending",qe="number-descending",Ke=[Ue,Me,qe];var ze=function(e){var t=e.sort,n=e.setSort;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:function(){return n(Ke[(Ke.indexOf(t)+1)%Ke.length])},className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t===Ue?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"}):t===Me?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})})})},Be="light",Ve="dark",Ge=[Be,Ve],Qe="theme",Xe=r.a.createContext({theme:Be,setTheme:function(e){},setLight:function(){},setDark:function(){},toggle:function(){},isLight:!0,isDark:!1}),Je=function(e){var t=e.children,n=Object(a.useState)(localStorage.getItem(Qe)===Ve?Ve:Be),r=Object(v.a)(n,2),i=r[0],c=r[1],o=function(e){if(!Ge.includes(e))throw new Error("invalid theme '".concat(e,"' is not one of the valid options: '").concat(Ge,"'"));c(e),localStorage.setItem(Qe,e)},s={theme:i,setTheme:o,setLight:function(){return o(Be)},setDark:function(){return o(Ve)},toggle:function(){return o(Ge[(Ge.indexOf(i)+1)%Ge.length])},isLight:i===Be,isDark:i===Ve};return Object(m.jsx)(Xe.Provider,{value:s,children:Object(m.jsx)("div",{className:i===Ve?"dark":void 0,children:t})})};function Ye(){var e=r.a.useContext(Xe);return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:e.toggle,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.isLight?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})})}var Ze="en",$e=[Ze,"es"],et="language",tt=r.a.createContext({language:Ze,setLanguage:function(e){},toggle:function(){}}),nt=function(e){var t=e.children,n=localStorage.getItem(et),r=Object(a.useState)($e.includes(n)?n:Ze),i=Object(v.a)(r,2),c=i[0],o=i[1],s=function(e){if(!$e.includes(e))throw new Error("invalid language '".concat(e,"' is not one of the valid options: '").concat($e,"'"));o(e),localStorage.setItem(et,e),d.changeLanguage(e)},l={language:c,setLanguage:s,toggle:function(){return s($e[($e.indexOf(c)+1)%$e.length])}};return Object(m.jsx)(tt.Provider,{value:l,children:t})};function at(){var e=r.a.useContext(tt);return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:e.toggle,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})})})})}var rt,it=n(62),ct=function(e){var t;return null!==(t=parseInt(e))&&void 0!==t?t:e},ot=(rt={},Object(y.a)(rt,Ue,(function(e,t){return e.last_course_datetime.toMillis()-t.last_course_datetime.toMillis()})),Object(y.a)(rt,Me,(function(e,t){return ct(e.number)-ct(t.number)})),Object(y.a)(rt,qe,(function(e,t){return ct(t.number)-ct(e.number)})),rt);function st(){var e,t=r.a.useContext(ge),n=r.a.useContext(p),i=Object(a.useState)([]),c=Object(v.a)(i,2),o=(c[0],c[1],Object(a.useState)(Ue)),s=Object(v.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(it.MENU_HOME),b=Object(v.a)(u,2),j=b[0],f=(b[1],t.tables),h=Object(a.useState)([]),O=Object(v.a)(h,2),x=O[0],g=O[1];Object(a.useEffect)((function(){return(e=f).sort(ot[l]),void g(Object(C.a)(e));var e}),[f,l]);var w=function(){return Object(m.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:[Object(m.jsx)(We,{addNewTable:t.addTable,existingTableNumbers:f.map((function(e){return e.number}))}),x.map((function(e){return Object(m.jsx)(Ne,{table:e},e.id)}))]})};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"p-2 pt-4 pl-8 pr-8 inline-block w-full",children:[Object(m.jsx)("div",{className:"inline-block",children:Object(m.jsx)("p",{className:"font-mono select-none text-4xl ".concat(z),children:null!==(e=n.params.restaurantName)&&void 0!==e?e:"..."})}),Object(m.jsxs)("div",{className:"float-right",children:[Object(m.jsx)(ze,{sort:l,setSort:d}),Object(m.jsx)(Ye,{}),Object(m.jsx)(at,{})]})]}),Object(m.jsx)("div",{className:"p-4",children:j==it.MENU_HOME?Object(m.jsx)(w,{}):null})]})}var lt=function(){return Object(m.jsx)(pe,{children:Object(m.jsx)(st,{})})};function dt(e){var t=e.privacyFilter,n=e.setPrivacyFilter;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:function(){return n(!t)},className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})})})}var ut=n(95),bt=n(53),mt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_CLIENT_ID;function jt(e){Object(ut.a)(e);var t=Object(je.b)(),n=t.enqueueSnackbar,a=(t.closeSnackbar,Object(Z.a)()),r=a.t,i=(a.i18n,Object(b.g)()),c=Object(bt.useGoogleLogout)({clientId:mt,onLogoutSuccess:function(){new Promise((function(e,t){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/auth/v1/logout"),method:"POST",headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(t){return e()})).catch((function(e){return t()}))})).then((function(){n(r("logged out"),{variant:"success"}),i.push("/login")})).catch((function(){n(r("unable to log out with server"),{variant:"error"})}))},onLogoutFailure:function(){n(r("unable to log out with Google"),{variant:"error"})}}).signOut;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:c,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})})}function ft(e){var t=e.title,n=void 0===t?null:t,a=e.children,r=void 0===a?null:a;return Object(m.jsxs)("div",{className:"m-4 p-4 rounded-lg ".concat(K),children:[n&&Object(m.jsx)("p",{className:"font-mono select-none text-2xl ".concat(z),children:n}),Object(m.jsx)("div",{className:"p-4",children:r})]})}var ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,n){return t(e)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){return n()};return new Promise((function(a,r){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/api/v1").concat(e),method:"GET",headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return t(e.data,a,r)})).catch((function(e){return n(e,a,r)}))}))},vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){return t(e)},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return n()};return new Promise((function(r,i){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/api/v1").concat(e),method:"POST",data:t,headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return n(e.data,r,i)})).catch((function(e){return a(e,r,i)}))}))},Ot=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return t(e)},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t,n){return n()};return new Promise((function(i,c){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/api/v1").concat(e,"/").concat(t),method:"PATCH",data:n,headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return a(e.data,i,c)})).catch((function(e){return r(e,i,c)}))}))},xt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){return t(e)},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return n()};return new Promise((function(r,i){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/api/v1").concat(e,"/").concat(t),method:"DELETE",headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return n(e,r,i)})).catch((function(e){return a(e,r,i)}))}))},gt=function(e){return"/restaurants/".concat(e,"/accessTokens")};function pt(e){var t=e.privacyFilter,n=e.restaurantId,a=e.token,r=e.onDelete,i=e.onPatch,c=Object(je.b)(),o=c.enqueueSnackbar,s=(c.closeSnackbar,Object(Z.a)()),l=s.t,d=(s.i18n,function(){t?o(l("disablePrivacyMode"),{variant:"warning"}):(navigator.clipboard.writeText(a.url),o(l("the url has been copied to your clipboard, keep it private!"),{variant:"success"}))});return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(_e.c,{initialValues:a,onSubmit:function(e,t){var r=t.setSubmitting,c=t.setErrors;(function(e,t,n){return Ot(gt(e),t,{comment:n},(function(e,t,n){return t(e.access_token)}))})(n,a.id,e.comment).then((function(e){i(a.id,e),r(!1),o(l("access token comment saved"),{variant:"success"})}),(function(){c({comment:l("unable to finalize request")}),r(!1)}))},children:function(e){var n=e.isSubmitting;return Object(m.jsxs)(_e.b,{children:[Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(Ee,{name:"comment"})}),Object(m.jsx)(ee,{text:l("delete"),disabled:n,onClick:r}),Object(m.jsx)(se,{text:l("save"),type:"submit",disabled:n,loading:n})]}),Object(m.jsx)("div",{className:"flex pb-2",children:Object(m.jsx)("div",{className:"flex-grow ".concat(t?"filter blur-sm":""),onClick:d,children:Object(m.jsx)(Ee,{name:"url",disabled:!0})})})]})}})})}var wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(a.useState)(t),r=Object(v.a)(n,2),i=r[0],c=r[1],o=function(e){return c([].concat(Object(C.a)(i),[e]))},s=function(t){return c(i.filter((function(n){return n[e]!==t})))},l=function(t,n){return c(i.map((function(a){return a[e]===t?n:a})))};return[i,c,{add:o,remove:s,patch:l}]},St=function(e){var t=e.restaurantId,n=e.privacyFilter,i=wt(),c=Object(v.a)(i,3),o=c[0],s=c[1],l=c[2],d=Object(je.b)(),u=d.enqueueSnackbar,b=(d.closeSnackbar,r.a.useContext(ie)),j=r.a.useContext(Le),f=Object(Z.a)(),h=f.t;f.i18n;Object(a.useEffect)((function(){(function(e){return ht(gt(e),(function(e,t,n){return t(e.access_tokens)}))})(t).then((function(e){return s(e)})).catch((function(e){return u(h("unable to retrieve access tokens"),{variant:"error"})}))}),[t]);var O=function(e){b({title:h("deleteTokenQuestion"),description:h("deleteTokenDescription"),handleSuccess:function(){(function(e,t){return xt(gt(e),t)})(t,e).then((function(){l.remove(e),u(h("deleted access token"),{variant:"success"})})).catch((function(){u(h("unable to delete access token"),{variant:"error"})}))}})},x=function(e,t){l.patch(e,t)};return Object(m.jsxs)(ft,{title:"access URLs",children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100",children:o.map((function(e){return Object(m.jsx)(pt,{onPatch:x,restaurantId:t,privacyFilter:n,onDelete:function(){return O(e.id)},token:e},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center  pt-8",children:Object(m.jsx)(se,{onClick:function(){j.prompt({title:h("description"),description:h("descriptionUseUrl"),handleSubmit:function(e){return new Promise((function(n,a){(function(e,t){return vt(gt(e),{comment:t},(function(e,t,n){return t(e.access_token)}))})(t,e).then((function(e){l.add(e),u(h("added new default table"),{variant:"success"}),n()})).catch((function(){u(h("unable to add new default table"),{variant:"error"}),a()}))}))}})},text:h("new"),w:"w-64"})})]})},kt=function(e){return"/restaurants/".concat(e,"/defaultTables")},Ct=function(e){var t=e.restaurantId,n=wt("name"),i=Object(v.a)(n,3),c=i[0],o=i[1],s=i[2],l=Object(je.b)(),d=l.enqueueSnackbar,u=(l.closeSnackbar,Object(a.useState)(null)),b=Object(v.a)(u,2),j=b[0],f=b[1],h=Object(Z.a)(),O=h.t;h.i18n;Object(a.useEffect)((function(){(function(e){return ht(kt(e),(function(e,t,n){return t(e.default_tables)}))})(t).then((function(e){return o(e)})).catch((function(e){return d(O("unable to retrieve default tables"),{variant:"error"})}))}),[t]);var x=r.a.useContext(ie),g=r.a.useContext(Le),p=function(e){x({title:"".concat(O("deleteTableQuestion")," ").concat(e,"?"),description:"".concat(O("Deleting Table")," ").concat(e," ").concat(O("onlyDeleteFromList")),handleSuccess:function(){f(e),function(e,t){return xt(kt(e),t)}(t,e).then((function(){s.remove(e),d(O("deleted default table"),{variant:"success"})})).catch((function(){d(O("unable to delete default table"),{variant:"error"})})).finally((function(){return f(null)}))}})};return Object(m.jsxs)(ft,{title:"default tables",children:[c.map((function(e){return Object(m.jsx)(Y,{onClick:function(){return p(e.name)},text:e.name,loading:j===e.name},e.name)})),Object(m.jsx)(se,{onClick:function(){g.prompt({title:O("table #"),description:O("what is the name of the new table you want to add?"),handleSubmit:function(e){return new Promise((function(n,a){(function(e,t){return vt(kt(e),{name:t},(function(e,t,n){return t(e.default_table)}))})(t,e).then((function(e){s.add(e),d(O("added new default table"),{variant:"success"}),n()})).catch((function(){d(O("unable to add new default table"),{variant:"error"}),a()}))}))}})},text:O("ADD NEW")})]})};function yt(e){var t=e.admin,n=e.privacyFilter,a=e.deleteAdministrator,i=e.deleteAdministratorService,c=Object(je.b)(),o=c.enqueueSnackbar,s=(c.closeSnackbar,r.a.useContext(ie)),l=Object(Z.a)(),d=l.t,u=(l.i18n,function(){s({handleSuccess:function(){i(t.id).then((function(){a(t.id),o(d("administrator deleted"),{variant:"success"})})).catch((function(){o(d("unable to delete administrator"),{variant:"error"})}))},handleCancel:function(){o(d("administrator not deleted"),{variant:"success"})}})});return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(_e.c,{initialValues:t,onSubmit:function(e,t){t.setSubmitting,t.setErrors},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(_e.b,{children:Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow ".concat(n?"filter blur-sm":""),children:Object(m.jsx)(Ee,{disabled:!0,name:"email"})}),Object(m.jsx)(ee,{text:d("delete"),onClick:u,disabled:t})]})})}})})}var Nt=function(e){return"/restaurants/".concat(e,"/administrators")},_t=function(e){var t=e.restaurantId,n=e.privacyFilter,i=wt(),c=Object(v.a)(i,3),o=c[0],s=c[1],l=c[2],d=Object(je.b)(),u=d.enqueueSnackbar,b=(d.closeSnackbar,r.a.useContext(Le)),j=Object(Z.a)(),f=j.t;j.i18n;Object(a.useEffect)((function(){(function(e){return ht(Nt(e),(function(e,t,n){return t(e.administrators)}))})(t).then((function(e){return s(e)})).catch((function(e){return u(f("unable to retrieve restaurant administrators"),{variant:"error"})}))}),[t]);return Object(m.jsxs)(ft,{title:"restaurant administrators",children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500",children:o.map((function(e){return Object(m.jsx)(yt,{admin:e,privacyFilter:n,deleteAdministrator:l.remove,deleteAdministratorService:function(e){return function(e,t){return xt(Nt(e),t)}(t,e)}},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center  pt-8",children:Object(m.jsx)(se,{onClick:function(){b.prompt({title:f("administrator email"),description:f("descriptionNewAdmin"),handleSubmit:function(e){return new Promise((function(n,a){(function(e,t){return vt(Nt(e),{email:t},(function(e,t,n){return t(e.administrator)}))})(t,e).then((function(e){l.add(e),u(f("addNewAdmin"),{variant:"success"}),n()})).catch((function(){u(f("unable to add new restaurant administrator"),{variant:"error"}),a()}))}))},handleCancel:function(){return u(f("cancelled"),{variant:"warning"})}})},text:f("ADD NEW"),w:"w-64"})})]})},Tt="/restaurants",Et=function(e,t){return Ot(Tt,e,t,(function(e,t,n){return t(e.restaurant)}))};function At(e){var t=e.restaurantId,n=e.prefix,a=e.onPatch,r=e.profileName,i=e.profileValue,c=Object(je.b)().enqueueSnackbar,o=Object(Z.a)(),s=o.t;o.i18n;return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(_e.c,{initialValues:{profile:i},enableReinitialize:!0,onSubmit:function(e,n){var i=n.setSubmitting,o=n.setErrors,l=e.profile;Et(t,Object(y.a)({},r,l)).then((function(e){a(e[r]),i(!1),c(s("time profile saved"),{variant:"success"})}),(function(){o({comment:s("unable to finalize request")}),i(!1)}))},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(_e.b,{children:Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(Ee,{name:"profile"})}),Object(m.jsx)(se,{text:"save ".concat(n),w:"w-32",type:"submit",disabled:t,loading:t})," //TODO"]})})}})})}var Pt=function(e){var t=e.restaurantId,n=Object(je.b)().enqueueSnackbar,r=Object(Z.a)(),i=r.t,c=(r.i18n,Object(a.useState)({alarm_minutes:20,warning_minutes:15})),o=Object(v.a)(c,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){var e;(e=t,ht("".concat(Tt,"/").concat(e),(function(e,t,n){return t(e.restaurant)}))).then((function(e){return l({alarm_minutes:e.alarm_minutes,warning_minutes:e.warning_minutes})})).catch((function(){return n(i("unable to retrieve restaurant"),{variant:"error"})}))}),[t]),Object(m.jsx)(ft,{title:"time profile",children:Object(m.jsxs)("div",{className:"grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100",children:[Object(m.jsx)(At,{onPatch:function(e){return l(Object(f.a)(Object(f.a)({},s),{},{alarm_minutes:e}))},restaurantId:t,profileValue:s.alarm_minutes,profileName:"alarm_minutes",prefix:"alarm"}),Object(m.jsx)(At,{onPatch:function(e){return l(Object(f.a)(Object(f.a)({},s),{},{warning_minutes:e}))},restaurantId:t,profileValue:s.warning_minutes,profileName:"warning_minutes",prefix:"warning"})]})})};var Lt=function(e){var t=e.privacyFilter,n=e.restaurant,a=r.a.useContext(p);return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(Ct,{restaurantId:n.id}),Object(m.jsx)(St,{privacyFilter:t,restaurantId:n.id}),Object(m.jsx)(Pt,{restaurantId:n.id}),a.isSuperAdminLoggedIn&&Object(m.jsx)(_t,{privacyFilter:t,restaurantId:n.id})]})},Dt="/administrators/super",Rt=function(e){return xt(Dt,e)},Ft=function(e){var t=e.privacyFilter,n=wt(),i=Object(v.a)(n,3),c=i[0],o=i[1],s=i[2],l=Object(je.b)(),d=l.enqueueSnackbar,u=(l.closeSnackbar,r.a.useContext(Le)),b=Object(Z.a)(),j=b.t;b.i18n;Object(a.useEffect)((function(){ht(Dt,(function(e,t,n){return t(e.administrators)})).then((function(e){return o(e)})).catch((function(e){return d(j("errorAdminRetrieval"),{variant:"error"})}))}),[]);return Object(m.jsxs)(ft,{title:j("root administrators"),children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500",children:c.map((function(e){return Object(m.jsx)(yt,{admin:e,privacyFilter:t,deleteAdministrator:s.remove,deleteAdministratorService:Rt},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center  pt-8",children:Object(m.jsx)(se,{onClick:function(){u.prompt({title:j("administratorEmail"),description:j("descriptionAddAdmin"),handleSubmit:function(e){return new Promise((function(t,n){(function(e){return vt(Dt,{email:e},(function(e,t,n){return t(e.administrator)}))})(e).then((function(e){s.add(e),d(j("addAdmin"),{variant:"success"}),t()})).catch((function(){d(j("errorAddAdmin"),{variant:"error"}),n()}))}))},handleCancel:function(){return d(j("cancelled"),{variant:"warning"})}})},text:j("ADD NEW"),w:"w-64"})})]})};function It(e){var t=e.restaurant,n=e.setRestaurant,a=e.patchRestaurant,i=e.deleteRestaurant,c=Object(je.b)(),o=c.enqueueSnackbar,s=(c.closeSnackbar,r.a.useContext(ie)),l=Object(Z.a)(),d=l.t,u=(l.i18n,function(){s({handleSuccess:function(){var e;(e=t.id,xt(Tt,e)).then((function(){i(t.id),o(d("restaurant deleted"),{variant:"success"})})).catch((function(){o(d("unable to delete restaurant"),{variant:"error"})}))},handleCancel:function(){o(d("restaurant not deleted"),{variant:"success"})}})}),b=function(){return n(t)};return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(_e.c,{initialValues:t,onSubmit:function(e,n){var r=n.setSubmitting,i=n.setErrors;Et(t.id,{name:e.name}).then((function(e){a(t.id,e),r(!1),o(d("restaurant name saved"),{variant:"success"})}),(function(){i({comment:d("unable to finalize request")}),r(!1)}))},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(_e.b,{children:Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(Ee,{name:"name"})}),Object(m.jsx)(ee,{text:d("delete"),onClick:u,disabled:t}),Object(m.jsx)(se,{text:d("save"),type:"submit",disabled:t,loading:t}),Object(m.jsx)(Y,{text:d("admin"),onClick:b,disabled:t})]})})}})})}var Ht=function(e){var t=e.setRestaurant,n=wt(),i=Object(v.a)(n,3),c=i[0],o=i[1],s=i[2],l=Object(je.b)(),d=l.enqueueSnackbar,u=(l.closeSnackbar,r.a.useContext(Le)),b=Object(Z.a)(),j=b.t;b.i18n;Object(a.useEffect)((function(){ht(Tt,(function(e,t,n){return t(e.restaurants)})).then((function(e){return o(e)})).catch((function(e){return d(j("unable to retrieve restaurants"),{variant:"error"})}))}),[]);return Object(m.jsxs)(ft,{title:"restaurants",children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500",children:c.map((function(e){return Object(m.jsx)(It,{patchRestaurant:s.patch,deleteRestaurant:s.remove,restaurant:e,setRestaurant:t},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center pt-8",children:Object(m.jsx)(se,{onClick:function(){u.prompt({title:j("restaurant name"),description:j("this will add a new restaurant to the system"),handleSubmit:function(e){return new Promise((function(t,n){(function(e){return vt(Tt,{name:e},(function(e,t,n){return t(e.restaurant)}))})(e).then((function(e){s.add(e),d(j("added new restaurant"),{variant:"success"}),t()})).catch((function(){d("unable to add new restaurant",{variant:"error"}),n()}))}))},handleCancel:function(){return d(j("cancelled"),{variant:"warning"})}})},text:j("ADD NEW"),w:"w-64"})})]})};var Wt=function(e){var t=e.privacyFilter,n=e.setRestaurant;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(Ht,{setRestaurant:n}),Object(m.jsx)(Ft,{privacyFilter:t})]})};function Ut(e){var t=e.setRestaurant;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:function(){return t(null)},className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})})})})}var Mt=function(){var e,t=r.a.useContext(p),n=Object(a.useState)(!0),i=Object(v.a)(n,2),c=i[0],o=i[1],s=Object(a.useState)(null),l=Object(v.a)(s,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){null!==t.params.restaurantId?u({id:t.params.restaurantId,name:t.params.restaurantName}):u(null)}),[t.params]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"p-2 pl-8 pr-8",children:[Object(m.jsx)("div",{className:"inline-block",children:Object(m.jsx)("p",{className:"font-mono text-4xl ".concat(z),children:t.isSuperAdminLoggedIn&&null===d?"root admin":null!==(e=d.name)&&void 0!==e?e:"..."})}),Object(m.jsxs)("div",{className:"float-right",children:[t.isSuperAdminLoggedIn&&null!==d&&Object(m.jsx)(Ut,{setRestaurant:u}),Object(m.jsx)(Ye,{}),Object(m.jsx)(at,{}),Object(m.jsx)(dt,{privacyFilter:c,setPrivacyFilter:o}),Object(m.jsx)(jt,{})]})]}),Object(m.jsx)("div",{className:"inline-block w-full",children:t.isRestaurantAdminLoggedIn||null!==d?Object(m.jsx)(Lt,{privacyFilter:c,restaurant:d}):Object(m.jsx)(Wt,{privacyFilter:c,setRestaurant:u})})]})},qt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_CLIENT_ID;var Kt=function(){var e=Object(je.b)().enqueueSnackbar,t=r.a.useContext(p),n=Object(Z.a)(),a=n.t,i=(n.i18n,Object(b.g)()),c=Object(b.h)();return Object(m.jsx)("div",{className:"flex items-center justify-center h-screen",children:Object(m.jsx)(bt.GoogleLogin,{clientId:qt,buttonText:a("Login"),onSuccess:function(n){var r;(r=n.tokenObj.id_token,new Promise((function(e,t){me()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/auth/v1/login/google"),method:"POST",auth:{username:"",password:r},headers:Object(f.a)({"Cache-Control":"no-cache"},ue())}).then((function(t){return e([!0,t.data])})).catch((function(n){try{401===n.response.status&&e(!1)}catch(a){}t(n)}))}))).then((function(n){var r=Object(v.a)(n,2),o=r[0],s=r[1];if(o){t.setType(s.type),t.setParams(s);var l=(c.state||{from:{pathname:"/admin"}}).from;i.push(l),e(a("logged in"),{variant:"success"})}else e(a("user does not exist"),{variant:"warning"})})).catch((function(){e(a("unable to log in with the server"),{variant:"error"})}))},onFailure:function(t){e(a("unable to log in with Google"),{variant:"error"})},cookiePolicy:"single_host_origin"})})};var zt=function(){var e=r.a.createRef();return Object(m.jsx)(Je,{children:Object(m.jsx)("div",{className:"App ".concat(W," min-h-screen min-w-screen"),children:Object(m.jsx)(nt,{children:Object(m.jsx)(je.a,{children:Object(m.jsx)(w,{children:Object(m.jsx)(ce,{children:Object(m.jsx)(De,{children:Object(m.jsx)(u.a,{ref:e,basename:"/app",children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(k,{path:"/admin",baseRouter:e,component:Mt,type:[x,g]}),Object(m.jsx)(b.b,{path:"/restaurant",component:lt}),Object(m.jsx)(b.b,{path:"/login",component:Kt}),Object(m.jsx)(b.b,{component:j})]})})})})})})})})})},Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(zt,{})}),document.getElementById("root")),Bt()},62:function(e,t){}},[[166,1,2]]]);
//# sourceMappingURL=main.7e1884b5.chunk.js.map