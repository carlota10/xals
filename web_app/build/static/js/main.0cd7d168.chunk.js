(this.webpackJsonpweb_app=this.webpackJsonpweb_app||[]).push([[0],{163:function(e,t){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(57),c=n.n(i),s=(n(248),n(166)),o=n(106),l={en:{translation:{newMasc:"new",newFem:"new",cancelled:"cancelled",table:"table",cancel:"cancel",finish:"finish",delete:"delete",custom:"custom",no:"no",yes:"yes",confirm:"confirm",submit:"submit",AddNewMasc:"ADD NEW",AddNewFem:"ADD NEW",save:"save",admin:"admin",description:"description","table #":"table #",finalize:"finalize",next:"next",desserts:"desserts",alarm:"alarm",warning:"warning",restaurants:"restaurants","time profile":"time profile",search:"search",administratorEmail:"administrator email",descriptionAddRAdmin:"this will add a new root administrator to the system; root administrators have complete access to all restaurants and users (including other administrators)",addRAdmin:"added new root administrator",rAdmins:"root administrators",adminDel:"administrator deleted",adminNotDel:"administrator not deleted",descriptionAddAdmin:"this will add a new administrator to the system; restaurant administrators can manage the access urls of their restaurants and the default tables",addAdmin:"added new restaurant administrator",restAdmins:"restaurant administrators",shortcuts:"shortcuts",statistics:"statistics","historic-average-waiting-time":"historic average waiting time","average-waiting-time-per-course":"average waiting time per course",timeLastCourse:"last course was served at",dessertsAndEnd:"desserts & finalize","next course":"next course","new table":"new table",startTimerTable:"start timer for a new table",markedFinish:"has been marked as finished",servedWaiting:"has been served... now waiting for",askContinue:"Do you wish to continue?",difficultUndone:"this action might not be easily undone",serveDessertsAndEnd:"serve desserts and finalize table?",deleteTableQuestion:"Do you want to delete Table","Deleting Table":"Deleting Table",onlyDeleteFromList:"will only remove it from the default tables list.",deletedTable:"deleted default table",nameTableQuestion:"what is the name of the new table you want to add?",addedTable:"added new default table","has been deleted":"has been deleted","default tables":"default tables",restDel:"restaurant deleted",restNotDel:"restaurant not deleted",NameSaved:"restaurant name saved",restName:"restaurant name",newRestDescription:"this will add a new restaurant to the system",addRest:"added new restaurant",logOut:"logged out",userNotExist:"user does not exist",logIn:"logged in",Login:"Login",disablePrivMode:"disable the privacy mode on the top right corner first",urlCopied:"the url has been copied to your clipboard, keep it private!",tokenCommentSaved:"access token comment saved",delTokenQuest:"Do you want to delete the access token?",delTokenDescription:"Deleting the access token will render that url invalid (even for people who already had it).",timeProfSaved:"time profile saved",delToken:"deleted access token",descriptionUsesToken:"write a small description of the uses of this url (good examples would include who will this access url be given to, or which team will have access to it)","access URLs":"access URLs",unableEndReq:"unable to finalize request",errorPageAccess:"you can't access this page",SthWrong:"something went wrong",unableGetRAdmin:"unable to retrieve root administrators",unableAddRAdmin:"unable to add new root administrator",unableDelTable:"unable to delete default table",unableAddTable:"unable to add new default table",unableGetTables:"unable to retrieve default tables",unableDelAdmin:"unable to delete administrator",unableDelRest:"unable to delete restaurant",unableLogOutServer:"unable to log out with server",unableLogOutGoogle:"unable to out with Google",unableGetTokens:"unable to retrieve access tokens",unableDelToken:"unable to delete access token",unableAddAdmin:"unable to add new restaurant administrator",unableGetAdmins:"unable to retrieve restaurant administrators",unableGetRests:"unable to retrieve restaurants",unableAddRest:"unable to add new restaurant",unableGetRest:"unable to retrieve restaurant",unableLogInServer:"unable to log in with the server",unableLogInGoogle:"unable to log in with Google"}},es:{translation:{newMasc:"nuevo",newFem:"nuevo",cancelled:"canceladx",table:"mesa",cancel:"cancelar",finish:"acabar",delete:"eliminar",custom:"personalizada",no:"no",yes:"si",confirm:"confirmar",submit:"enviar",AddNewMasc:"A\xd1ADIR NUEVO",AddNewFem:"A\xd1ADIR NUEVA",save:"guardar",admin:"administrar",description:"descripci\xf3n","table #":"mesa #",finalize:"finalizar",next:"siguiente",desserts:"postres",alarm:"alarma",warning:"aviso",restaurants:"restaurantes","time profile":"perfil de tiempo",search:"buscar",administratorEmail:"email del administradorx",descriptionAddRAdmin:"esta acci\xf3n a\xf1adira unx nuevx administradorx root al sistema; lxs administradorxs root tienen acceso completoa todos los restaurantes y usuarios (incluso otrxs administradorxs)",addRAdmin:"se ha a\xf1adido unx nuevx root administradorx",rAdmins:"administradorxs root",adminDel:"administradorx eliminadx",adminNotDel:"administradorx no eliminadx",descriptionAddAdmin:"esta acci\xf3n a\xf1adir\xe1 unx nuevx administradorx al sistema; lxs administradorxs de un restaurante pueden gestionar los enlaces de acceso de su restaurante y las mesas predeterminadas",addAdmin:"se ha a\xf1adido unx nuevx administradorx",restAdmins:"administradorxs del restaurante",shortcuts:"enlaces",statistics:"estad\xedsticas","historic-average-waiting-time":"tiempo de espera medio hist\xf3rico","average-waiting-time-per-course":"tiempo de espera medio por plato",timeLastCourse:"el \xfaltimo plato se sirvi\xf3 a la(s)",dessertsAndEnd:"postres y terminar","next course":"siguiente plato","new table":"nueva mesa",startTimerTable:"empezar el temporizador para una nueva mesa",markedFinish:"ha sido marcada como terminada",servedWaiting:"ha sido servida... ahora esperando a",askContinue:"\xbfDesea continuar?",difficultUndone:"esta acci\xf3n no se podr\xe1 deshacer f\xe1cilmente",serveDessertsAndEnd:"\xbfservir los postres y terminar mesa?",deleteTableQuestion:"\xbfQuiere eliminar la mesa","Deleting Table":"Borrando mesa",onlyDeleteFromList:"solo la eliminar\xe1 de la lista de mesas predeterminadas",deletedTable:"se ha eliminado la mesa predeterminada",nameTableQuestion:"\xbfCu\xe1l es el nombre de la mesa que quieres a\xf1adir?",addedTable:"se ha a\xf1adido una nueva mesa predeterminada","has been deleted":"ha sido eliminada","default tables":"mesas predeterminadas",restDel:"se ha eliminado el restaurante",restNotDel:"el restaurante no ha sido eliminado",NameSaved:"se ha guardado el nombre del restaurante",restName:"nombre del restaurante",newRestDescription:"esta acci\xf3n a\xf1adira un nuevo restaurante al sistema",addRest:"se ha a\xf1adido un nuevo restaurante",logOut:"sesi\xf3n terminada",userNotExist:"el usuario no existe",logIn:"sesi\xf3n iniciada",Login:"Iniciar sesi\xf3n",disablePrivMode:"primero desactiva el modo privado en la esquina superior derecha",urlCopied:"el enlace ha sido copiado al portapapeles, \xa1no lo compartas!",tokenCommentSaved:"se ha guardado el comentario del token de acceso",delTokenQuest:"\xbfQuiere eliminar el token de acceso?",delTokenDescription:"Al eliminar el token de acceso el enlace dejar\xe1 de ser v\xe1lido (incluso para aquellos que ya lo tienen).",timeProfSaved:"el perfil de tiempo se ha guardado",delToken:"el token de acceso ha sido eliminado",descriptionUsesToken:"escribe una peque\xf1a descripci\xf3n sobre para qu\xe9 va a ser usado este enlace (por ejemplo: con qui\xe9n se va a compartir, qu\xe9 equipo va a tener acceso al enlace...)","access URLs":"enlaces de acceso",unableEndReq:"no se ha podido continuar con la solicitud",errorPageAccess:"no puede acceder a esta p\xe1gina",SthWrong:"algo ha ido mal",unableGetRAdmin:"no se ha podido obtener la lista de administradorxs root",unableAddRAdmin:"no se ha podido a\xf1adir unx nuevx administradorx root",unableDelTable:"no se ha podido eliminar la mesa predeterminada",unableAddTable:"no se ha podido a\xf1adir una nueva mesa predeterminada",unableGetTables:"no se ha podido obtener la lista de mesas predeterminadas",unableDelAdmin:"no se ha podido eliminar al administradorx del restaurante",unableDelRest:"no se ha podido borrar el restaurante",unableLogOutServer:"no se ha podido cerrar sesi\xf3n con el servidor",unableLogOutGoogle:"no se ha podido cerrar sesi\xf3n con Google",unableGetTokens:"no se ha podido obtener la lista de tokens de acceso",unableDelToken:"no se ha podido eliminar el token de acceso",unableAddAdmin:"no se ha podido a\xf1adir unx nuevx administradorx al restaurante",unableGetAdmins:"no se ha podido obtener la lista de los administradores del restaurante",unableGetRests:"no se ha podido obtener la lista de los restaurantes",unableAddRest:"no se ha podido a\xf1adir un nuevo restaurante",unableGetRest:"no se ha podido obtener el restaurante",unableLogInServer:"no se ha podido iniciar sesi\xf3n con el servidor",unableLogInGoogle:"uno se ha podido iniciar sesi\xf3n con Google"}}};s.a.use(o.e).init({resources:l,lng:"en",interpolation:{escapeValue:!1}});var d=s.a,u=(n(249),n(79)),b=n(28),m=(n(250),n(1));var j=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{class:"headerName",children:"Error 404: Not found page"}),Object(m.jsxs)("div",{class:"center",children:[Object(m.jsx)("img",{src:"not_found_trees.svg",width:"400",height:"280"}),Object(m.jsx)("span",{class:"descriptionName",children:"The page you are trying to access doesn't exist"})]})]})},h=n(5),f=n(18),v=n(3),x="accessToken",g="restaurantAdmin",O="superAdmin",p=r.a.createContext({type:null,setType:function(e){},params:{},setParams:function(e){},loggedIn:!1,isRestaurantAdminLoggedIn:!1,isSuperAdminLoggedIn:!1}),w=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(v.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)({}),o=Object(v.a)(s,2),l={type:i,setType:c,params:o[0],setParams:o[1],loggedIn:null!==i,isRestaurantAdminLoggedIn:i===g,isSuperAdminLoggedIn:i===O};return Object(m.jsx)(p.Provider,{value:l,children:t})},k=["component","type"];var y=function(e){var t=e.component,n=e.type,a=void 0===n?null:n,i=Object(f.a)(e,k),c=r.a.useContext(p);return Object(m.jsx)(b.b,Object(h.a)(Object(h.a)({},i),{},{render:function(e){return!c.loggedIn||null!==a&&!a.includes(c.type)?Object(m.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}}):Object(m.jsx)(t,Object(h.a)(Object(h.a)({},e),i))}}))},S=n(39),N=n(11),C=n(42),T=["attributes","children"],A={"p-6":!0,"max-w-sm":!1,"bg-white":!0,"inline-block":!1,"rounded-md":!0,"shadow-lg":!0,"overflow-auto":!0};var D=function(e){var t=e.attributes,n=void 0===t?A:t,a=e.children,r=void 0===a?null:a,i=Object(f.a)(e,T);return Object(m.jsx)("div",Object(h.a)(Object(h.a)({className:Object(C.a)(Object(h.a)(Object(h.a)({},A),n))},i),{},{children:r}))},L=["attributes"],E={"w-full":!0,"h-36":!0,"cursor-pointer":!0,"transform transition":!0,"select-none":!0};var R=function(e){var t=e.attributes,n=void 0===t?E:t,a=Object(f.a)(e,L);return Object(m.jsx)(D,Object(h.a)({attributes:Object(h.a)(Object(h.a)({},E),n)},a))},I=n(127),F=function(e){return function(e,t){if(t<=0)throw"n must be > 0, '".concat(t,"' is an invalid padding");return String(e).padStart(t,"0")}(e,2)},P=["hours","minutes","seconds","milliseconds"],M=function(e,t){if(!P.includes(t))throw"precision '".concat(t,"' is not a valid precision; must be one of ").concat(P);var n=e.map(F),a=Object(v.a)(n,4),r=a[0],i=a[1],c=a[2],s=a[3];switch(t){case P[0]:return r;case P[1]:return"".concat(r,":").concat(i);case P[2]:return"".concat(r,":").concat(i,":").concat(c);case P[3]:return"".concat(r,":").concat(i,":").concat(c,":").concat(s)}};function q(e){var t,n=e.startTime,r=e.notifyDelta,i=void 0===r?function(e){}:r,c=e.refreshIntervalMs,s=void 0===c?1e3:c,o=e.precision,l=void 0===o?"seconds":o,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(a.useState)(e.toUTC()),r=Object(v.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(e.toUTC()),o=Object(v.a)(s,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){c(e)}),[e]),Object(a.useEffect)((function(){var e=setInterval((function(){return d(I.DateTime.now().toUTC())}),t);return function(){return clearInterval(e)}}),[t]),[l-i]}(n,s),u=Object(v.a)(d,1)[0],b=(t=u,[Math.floor(t/36e5%24),Math.floor(t/6e4%60),Math.floor(t/1e3%60),Math.floor(t%1e3)]);return Object(a.useEffect)((function(){i(u)}),[u]),Object(m.jsx)("span",{children:M(b,l)})}var _="bg-gray-50 dark:bg-gray-800",G="bg-gray-50 active:hover:bg-gray-100 dark:bg-gray-800 active:hover:dark:bg-gray-600",H="bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-600",z="bg-gray-100 dark:bg-gray-700",W="bg-gray-200 dark:bg-gray-600",U="text-gray-800 dark:text-gray-50",V="text-gray-700 dark:text-gray-100",Q="text-gray-900 dark:text-white",B=["handleHide","children","bgOverlay","bgOpacity","bg","z","disabled"];var K=function(e){var t=e.handleHide,n=void 0===t?function(){}:t,a=e.children,r=void 0===a?null:a,i=e.bgOverlay,c=void 0===i?"bg-gray-500":i,s=e.bgOpacity,o=void 0===s?"bg-opacity-75":s,l=e.bg,d=void 0===l?_:l,u=e.z,b=void 0===u?"z-10":u,j=e.disabled,v=void 0!==j&&j,x=Object(f.a)(e,B);return Object(m.jsx)("div",Object(h.a)(Object(h.a)({},x),{},{className:"fixed ".concat(b," inset-0 overflow-y-auto"),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(m.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(m.jsx)("div",{className:"fixed inset-0 ".concat(c," ").concat(o," transition-opacity"),"aria-hidden":"true",onClick:function(){v||n()}}),Object(m.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(m.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:Object(m.jsx)("div",{className:"".concat(d," px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),children:r})})]})}))},J=["text","bgColor","textColor","ring","border","attributes","onClick","w","loading"],X={"m-1":!0,"inline-flex":!0,"justify-center":!0,"rounded-md":!0,border:!1,"shadow-sm":!0,"px-4":!0,"py-2":!0,"text-base":!0,"font-medium":!0,"text-white":!0,"focus:outline-none":!0,"focus:ring-2":!0,"focus:ring-offset-2":!0,"sm:ml-3":!0,"sm:text-sm":!0,"disabled:opacity-50":!0,"select-none":!0};function Y(e){var t,n=e.text,a=e.bgColor,r=void 0===a?G:a,i=e.textColor,c=void 0===i?U:i,s=e.ring,o=void 0===s?"focus:ring-gray-500":s,l=e.border,d=void 0===l?_:l,u=e.attributes,b=void 0===u?X:u,j=e.onClick,v=void 0===j?function(){}:j,x=e.w,g=void 0===x?"w-full sm:w-auto":x,O=e.loading,p=void 0!==O&&O,w=Object(f.a)(e,J);return Object(m.jsxs)("button",Object(h.a)(Object(h.a)({onClick:v,type:"button",className:Object(C.a)(Object(h.a)(Object(h.a)({},X),{},(t={},Object(N.a)(t,r,!0),Object(N.a)(t,c,!0),Object(N.a)(t,o,!0),Object(N.a)(t,g,!0),Object(N.a)(t,d,!0),t),b))},w),{},{children:[p&&Object(m.jsx)("span",{className:"animate-ping absolute inline-flex h-5 w-5 rounded-full opacity-75 ".concat(z)}),n]}))}var Z=n(437),$=["attributes","text","onClick"];function ee(e){var t=e.attributes,n=void 0===t?{}:t,a=e.text,r=void 0===a?"no":a,i=e.onClick,c=void 0===i?function(){}:i,s=Object(f.a)(e,$),o=Object(Z.a)(),l=o.t;o.i18n;return Object(m.jsx)(Y,Object(h.a)({onClick:c,text:l(r),bgColor:"bg-red-600 hover:active:bg-red-700",textColor:"text-white",ring:"focus:ring-red-500",border:"border-transparent",attributes:n},s))}var te=["handleHide","title","description","actions","children","icon","disabled"];var ne=function(e){var t=e.handleHide,n=void 0===t?function(){}:t,a=e.title,r=void 0===a?null:a,i=e.description,c=void 0===i?null:i,s=e.actions,o=void 0===s?null:s,l=e.children,d=void 0===l?null:l,u=e.icon,b=void 0===u?null:u,j=e.disabled,v=void 0!==j&&j,x=Object(f.a)(e,te);return Object(m.jsxs)(K,Object(h.a)(Object(h.a)({handleHide:n,disabled:v},x),{},{children:[Object(m.jsxs)("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(r||c)&&Object(m.jsxs)("div",{className:"sm:flex sm:items-start",children:[b&&Object(m.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:b}),Object(m.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[r&&Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium ".concat(Q),id:"modal-title",children:r}),c&&Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsx)("p",{className:"text-sm ".concat(U),children:c})})]})]}),d]}),o&&Object(m.jsx)("div",{className:"".concat(z," px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-lg"),children:o})]}))},ae=["title","description","cancel","confirm","handleSuccess","handleCancel"];var re=function(e){var t=e.title,n=void 0===t?"askContinue":t,a=e.description,i=void 0===a?"difficultUndone":a,c=e.cancel,s=void 0===c?"cancel":c,o=e.confirm,l=void 0===o?"confirm":o,d=e.handleSuccess,u=void 0===d?function(){}:d,b=e.handleCancel,j=void 0===b?function(){}:b,h=(Object(f.a)(e,ae),Object(Z.a)()),v=h.t;return h.i18n,Object(m.jsx)(ne,{handleHide:j,title:v(n),description:v(i),icon:Object(m.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{text:v(s),onClick:j}),Object(m.jsx)(Y,{text:v(l),onClick:u})]})})},ie=r.a.createContext((function(e,t,n,a){})),ce=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(v.a)(n,2),c=i[0],s=i[1],o=function(){return s(!1)},l=Object(a.useState)({title:void 0,description:void 0,handleSuccess:o,handleCancel:o}),d=Object(v.a)(l,2),u=d[0],b=d[1];return Object(m.jsxs)(r.a.Fragment,{children:[c&&Object(m.jsx)(re,{title:u.title,description:u.description,handleSuccess:u.handleSuccess,handleCancel:u.handleCancel}),Object(m.jsx)(ie.Provider,{value:function(e){var t=e.title,n=void 0===t?void 0:t,a=e.description,r=void 0===a?void 0:a,i=e.handleSuccess,c=void 0===i?function(){}:i,l=e.handleCancel,d=void 0===l?function(){}:l;s(!0),b({title:n,description:r,handleSuccess:function(){o(),c()},handleCancel:function(){o(),d()}})},children:t})]})},se=["attributes","text","onClick"];function oe(e){var t=e.attributes,n=void 0===t?{}:t,a=e.text,r=void 0===a?"yes":a,i=e.onClick,c=void 0===i?function(){}:i,s=Object(f.a)(e,se),o=Object(Z.a)(),l=o.t;o.i18n;return Object(m.jsx)(Y,Object(h.a)({onClick:c,text:l(r),bgColor:"bg-green-500 active:hover:bg-green-600",textColor:"text-white",ring:"focus:ring-green-500",border:"border-transparent",attributes:n},s))}var le=n(216),de=n.n(le);function ue(){return{"X-CSRFToken":de.a.get("X-CSRF-TOKEN")}}var be=n(54),me=n.n(be),je=n(19),he=function(e,t){var n=Object(je.b)(),i=n.enqueueSnackbar,c=(n.closeSnackbar,r.a.useContext(p)),s=Object(Z.a)(),o=s.t;s.i18n;return Object(a.useEffect)((function(){c.setType(null),function(e,t){return new Promise((function(n,a){me()({url:"".concat("https://fb.unicohotels.com/","/auth/v1/login/accessToken"),method:"POST",auth:{username:e,password:t},headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return n([!0,e.data])})).catch((function(e){try{401===e.response.status&&n([!1,null])}catch(t){}a(e)}))}))}(e,t).then((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1];n?(c.setType(x),c.setParams(a)):i(o("errorPageAccess"),{variant:"warning"})})).catch((function(e){return i(o("SthWrong"),{variant:"error"})}))}),[e,t]),[c.loggedIn,function(){return c.setType(x)}]},fe=n(234),ve=function(e){return e.last_course_datetime=new I.DateTime.fromISO(e.last_course_datetime,{zone:"utc"}),e},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(a.useState)(e),n=Object(v.a)(t,2),r=n[0],i=n[1],c=function(e){return i((function(t){return[].concat(Object(S.a)(t),[e])}))},s=function(e){return i((function(t){return t.splice(e,1),i(Object(S.a)(t))}))};return{queue:r,push:c,serve:s,serveFirst:function(){return s(0)},serveAll:function(){return i([])},isEmpty:function(){return 0===r.length}}},ge=r.a.createContext({tables:[],setTables:function(e){},addTable:function(e){},finishTable:function(e){},nextCourse:function(e){},deleteTable:function(e){}}),Oe=function(e){var t=e.children,n=Object(je.b)().enqueueSnackbar,r=Object(a.useState)({}),i=Object(v.a)(r,2),c=i[0],s=i[1],o=function(){var e=Object(b.h)().search;return[new URLSearchParams(e).get("id"),new URLSearchParams(e).get("token")]}(),l=Object(v.a)(o,2),d=l[0],u=l[1],j=he(d,u),f=Object(v.a)(j,2),x=f[0],g=(f[1],Object(a.useState)(null)),O=Object(v.a)(g,2),p=O[0],w=O[1],k=Object(Z.a)(),y=k.t;k.i18n;Object(a.useEffect)((function(){if(x){var e=Object(fe.a)("https://fb.unicohotels.com/");return w(e),function(){return e.close()}}}),[x]),Object(a.useEffect)((function(){null!==p&&(p.on("v1.tables",(function(e){s(function(e){var t={};return e.forEach((function(e){t[e.id]=ve(e)})),t}(e.tables))})),p.on("v1.tables.new",(function(e){s((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(N.a)({},e.table.id,ve(e.table)))}))})),p.on("v1.tables.finish",(function(e){var t=e.table;s((function(e){return delete e[t.id],Object(h.a)({},e)})),n("".concat(y("table")," ").concat(t.number," ").concat(y("markedFinish")),{variant:"success"})})),p.on("v1.tables.next",(function(e){var t=ve(e.table);s((function(e){return e[t.id]=t,Object(h.a)({},e)})),n("".concat(y("table")," ").concat(t.number," ").concat(y("servedWaiting")," ").concat(y(t.next_course)),{variant:"success"})})),p.on("v1.tables.delete",(function(e){var t=e.table;s((function(e){return delete e[t.id],Object(h.a)({},e)})),n("".concat(y("table")," ").concat(t.number," ").concat(y("has been deleted")),{variant:"warning"})})))}),[p]);var S=xe();Object(a.useEffect)((function(){null!==p&&(S.isEmpty()||(S.queue.map((function(e){p.emit("v1.tables.new",{number:e})})),S.serveAll()))}),[S,p]);var C=xe();Object(a.useEffect)((function(){null!==p&&(C.isEmpty()||(C.queue.map((function(e){p.emit("v1.tables.finish",{id:e})})),C.serveAll()))}),[C,p]);var T=xe();Object(a.useEffect)((function(){null!==p&&(T.isEmpty()||(T.queue.map((function(e){p.emit("v1.tables.next",e),console.log(e)})),T.serveAll()))}),[T,p]);var A=xe();Object(a.useEffect)((function(){null!==p&&(A.isEmpty()||(A.queue.map((function(e){p.emit("v1.tables.delete",{id:e})})),A.serveAll()))}),[A,p]);var D={tables:Object.values(c),setTables:function(){},addTable:function(e){return S.push(e)},finishTable:function(e){return C.push(e)},nextCourse:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(c[e],c[e].next_course),T.push({id:e,to_desserts:t})},deleteTable:function(e){return A.push(e)}};return Object(m.jsx)(ge.Provider,{value:D,children:t})},pe=["table","handleHide","handleShow"];var we=function(e){var t=e.table,n=e.handleHide,a=void 0===n?function(){}:n,i=e.handleShow,c=void 0===i?function(){}:i,s=Object(f.a)(e,pe),o=r.a.useContext(ie),l=r.a.useContext(ge),d=Object(Z.a)(),u=d.t,b=(d.i18n,"desserts"===t.next_course),j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(),b?o({title:u("serveDessertsAndEnd"),handleSuccess:function(){l.finishTable(t.id)},handleCancel:function(){c()}}):l.nextCourse(t.id,e)},v=t.last_course_datetime.toLocal();return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(re,{}),Object(m.jsx)(ne,Object(h.a)({handleHide:a,title:"".concat(u("table")," ").concat(t.number),description:"".concat(u("timeLastCourse")," ").concat(F(v.hour),":").concat(F(v.minute)),actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{onClick:a,text:u("cancel")}),!b&&Object(m.jsx)(oe,{onClick:function(){return j(!0)},text:u("desserts")}),Object(m.jsx)(oe,{onClick:function(){return j(!1)},text:u(b?"finalize":"next")}),Object(m.jsx)(Y,{onClick:function(){a(),o({handleSuccess:function(){l.deleteTable(t.id)},handleCancel:function(){c()}})},text:u("delete")})]})},s))]})},ke=["table"],ye="alarm",Se="warning";var Ne=function(e){var t=e.table,n=Object(f.a)(e,ke),i=r.a.useContext(p),c=Object(a.useState)(!1),s=Object(v.a)(c,2),o=s[0],l=s[1],d=function(){return l(!0)},u=Object(a.useState)("ok"),b=Object(v.a)(u,2),j=b[0],x=b[1],g=function(e){return e===ye?{bg:"bg-red-400 hover:bg-red-500",fg:"bg-red-100",text:"text-gray-800"}:e===Se?{bg:"bg-yellow-200 hover:bg-yellow-300",fg:"bg-yellow-100",text:"text-gray-800"}:{bg:"bg-green-200 hover:bg-green-300",fg:"bg-green-50",text:"text-gray-800"}}(j),O=Object(Z.a)(),w=O.t;return O.i18n,Object(m.jsxs)(r.a.Fragment,{children:[o&&Object(m.jsx)(we,{handleHide:function(){return l(!1)},handleShow:d,table:t}),Object(m.jsx)(R,Object(h.a)(Object(h.a)({attributes:Object(N.a)({},g.bg,!0),onClick:d},n),{},{children:Object(m.jsxs)("div",{className:"flex-2 flex flex-col ".concat(g.text),children:[Object(m.jsx)("div",{className:"flex-1",children:Object(m.jsx)("p",{className:"font-mono text-4xl",children:Object(m.jsx)(q,{startTime:t.last_course_datetime,notifyDelta:function(e){var t=e/6e4;return t>i.params.alarmMinutes?x(ye):t>i.params.warningMinutes?x(Se):void x("ok")},precision:"seconds"})})}),Object(m.jsxs)("div",{className:"flex space-x-4 pt-4",children:[Object(m.jsx)("div",{className:"text-left",children:Object(m.jsx)("span",{className:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2 bottom-0 left-0 ".concat(g.fg),children:w(t.next_course)})}),Object(m.jsx)("div",{className:"flex-1",children:Object(m.jsx)("p",{className:"font-mono text-right text-4xl",children:t.number})})]})]})}))]})},Ce=n(35),Te=["name","label","type","lead","trail","placeholder"];function Ae(e){var t=e.name,n=e.label,a=void 0===n?null:n,r=e.type,i=void 0===r?"text":r,c=e.lead,s=void 0===c?null:c,o=e.trail,l=void 0===o?null:o,d=e.placeholder,u=void 0===d?"":d,b=Object(f.a)(e,Te);return Object(m.jsx)(Ce.a,{type:i,name:t,children:function(e){var n=e.field,r=e.form,c=(r.touched,r.errors,e.meta);return Object(m.jsxs)("div",{children:[a&&Object(m.jsx)("label",{for:t,className:"block text-sm font-medium ".concat(U),children:a}),c.touched&&c.error&&Object(m.jsx)("label",{for:t,className:"block text-sm font-medium text-red-700",children:c.error}),Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s&&Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"".concat(V," sm:text-sm"),children:s})}),Object(m.jsx)("input",Object(h.a)(Object(h.a)({},b),{},{type:i,name:t,id:t,className:"block w-full p-2 ".concat(s?"pl-7":""," ").concat(l?"pr-7":""," sm:text-sm text-gray-900 rounded-md"),placeholder:u},n)),l&&Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"".concat(V," sm:text-sm"),children:l})})]})]})}})}var De=["title","description","handleHide","handleShow","handleCancel","handleSubmit"];function Le(e){var t=e.title,n=void 0===t?null:t,a=e.description,i=void 0===a?null:a,c=e.handleHide,s=void 0===c?function(){}:c,o=(e.handleShow,e.handleCancel),l=void 0===o?function(){}:o,d=e.handleSubmit,u=void 0===d?function(e){return new Promise.resolve}:d,b=Object(f.a)(e,De),j=Object(Z.a)(),v=j.t;j.i18n;return Object(m.jsx)(Ce.c,{initialValues:{question:""},onSubmit:function(e,t){var n=t.setSubmitting,a=t.setErrors;u(e.question).then((function(){s(),n(!1)}),(function(){a({question:v("unableEndReq")}),n(!1)}))},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(Ce.b,{children:Object(m.jsx)(ne,Object(h.a)(Object(h.a)({handleHide:s,title:n,description:i,disabled:t,actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{onClick:function(){s(),l()},text:v("cancel"),disabled:t}),Object(m.jsx)(oe,{text:v("submit"),type:"submit",disabled:t,loading:t})]})},b),{},{children:Object(m.jsx)("div",{className:"p-4 pt-4",children:Object(m.jsx)(Ae,{name:"question"})})}))})}})}var Ee=r.a.createContext({prompt:function(e,t,n,a){}}),Re=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(v.a)(n,2),c=i[0],s=i[1],o=function(){return s(!1)},l=function(){return s(!0)},d=Object(a.useState)({title:null,description:null,handleSubmit:o,handleCancel:o}),u=Object(v.a)(d,2),b=u[0],j=u[1];return Object(m.jsxs)(r.a.Fragment,{children:[c&&Object(m.jsx)(Le,{title:b.title,description:b.description,handleSubmit:b.handleSubmit,handleCancel:b.handleCancel,handleHide:o,handleShow:l}),Object(m.jsx)(Ee.Provider,{value:{prompt:function(e){var t=e.title,n=void 0===t?null:t,a=e.description,r=void 0===a?null:a,i=e.handleSubmit,c=void 0===i?function(){return new Promise.resolve}:i,s=e.handleCancel,d=void 0===s?function(){}:s;j({title:n,description:r,handleSubmit:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){c.apply(void 0,t).then((function(){e.apply(void 0,arguments),o()}),(function(){return n.apply(void 0,arguments)}))}))},handleCancel:function(){o(),d()}}),l()}},children:t})]})},Ie=["handleHide","handleShow","addNewTable","existingTableNumbers"],Fe=function(e){var t;return null!==(t=parseInt(e))&&void 0!==t?t:e};function Pe(e){var t=e.handleHide,n=void 0===t?function(){}:t,i=e.handleShow,c=void 0===i?function(){}:i,s=e.addNewTable,o=void 0===s?function(e){}:s,l=e.existingTableNumbers,d=void 0===l?[]:l,u=Object(f.a)(e,Ie),b=r.a.useContext(p),j=Object(Z.a)(),x=j.t,g=(j.i18n,Object(a.useState)([])),O=Object(v.a)(g,2),w=O[0],k=O[1];Object(a.useEffect)((function(){var e;k((null!==(e=b.params.defaultTables)&&void 0!==e?e:[]).map((function(e){return e.name})).sort((function(e,t){return Fe(e)-Fe(t)})))}),[b.params.defaultTables]);var y=function(e){return new Promise((function(t,a){o(e),n(),T(!1),t()}))},S=Object(a.useState)(!1),N=Object(v.a)(S,2),C=N[0],T=N[1],A=r.a.useContext(Ee);return Object(m.jsx)(r.a.Fragment,{children:Object(m.jsx)(ne,Object(h.a)(Object(h.a)({handleHide:n,title:x("new table"),description:x("startTimerTable"),disabled:!1!==C,actions:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ee,{onClick:n,text:x("cancel"),disabled:!1!==C}),Object(m.jsx)(oe,{onClick:function(){n(),A.prompt({title:x("table #"),handleSubmit:function(e){return new Promise((function(t,n){y(e).then((function(){return t()}),(function(){return n()}))}))},handleCancel:c})},text:x("custom"),disabled:!1!==C})]})},u),{},{children:Object(m.jsx)("div",{className:"p-1 pt-4",children:w.filter((function(e){return!d.includes(e)})).map((function(e){return Object(m.jsx)(Y,{loading:C===e,disabled:!1!==C,onClick:function(){return T(t=e),void y(t);var t},text:e},e)}))})}))})}var Me=["addNewTable","existingTableNumbers"];var qe=function(e){var t,n=e.addNewTable,i=void 0===n?function(e){}:n,c=e.existingTableNumbers,s=void 0===c?[]:c,o=Object(f.a)(e,Me),l=Object(Z.a)(),d=l.t,u=(l.i18n,Object(a.useState)(!1)),b=Object(v.a)(u,2),j=b[0],x=b[1],g=function(){return x(!0)};return Object(m.jsxs)(r.a.Fragment,{children:[j&&Object(m.jsx)(Pe,{handleHide:function(){return x(!1)},handleShow:g,addNewTable:i,existingTableNumbers:s}),Object(m.jsx)(R,Object(h.a)(Object(h.a)({onClick:g,attributes:(t={"border-4":!0,"border-dashed":!0},Object(N.a)(t,H,!0),Object(N.a)(t,U,!0),t)},o),{},{disabled:!1,children:Object(m.jsx)("div",{className:"h-full w-full flex flex-wrap content-center text-center justify-center",children:Object(m.jsx)("p",{className:"font-mono text-4xl",children:d("newFem")})})}))]})},_e="priority",Ge="number-ascending",He="number-descending",ze=[_e,Ge,He];var We=function(e){var t=e.sort,n=e.setSort;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:function(){return n(ze[(ze.indexOf(t)+1)%ze.length])},className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t===_e?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"}):t===Ge?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})})})},Ue="light",Ve="dark",Qe=[Ue,Ve],Be="theme",Ke=r.a.createContext({theme:Ue,setTheme:function(e){},setLight:function(){},setDark:function(){},toggle:function(){},isLight:!0,isDark:!1}),Je=function(e){var t=e.children,n=Object(a.useState)(localStorage.getItem(Be)===Ve?Ve:Ue),r=Object(v.a)(n,2),i=r[0],c=r[1],s=function(e){if(!Qe.includes(e))throw new Error("invalid theme '".concat(e,"' is not one of the valid options: '").concat(Qe,"'"));c(e),localStorage.setItem(Be,e)},o={theme:i,setTheme:s,setLight:function(){return s(Ue)},setDark:function(){return s(Ve)},toggle:function(){return s(Qe[(Qe.indexOf(i)+1)%Qe.length])},isLight:i===Ue,isDark:i===Ve};return Object(m.jsx)(Ke.Provider,{value:o,children:Object(m.jsx)("div",{className:i===Ve?"dark":void 0,children:t})})};function Xe(){var e=r.a.useContext(Ke);return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:e.toggle,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.isLight?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})})}var Ye="en",Ze=[Ye,"es"],$e="language",et=r.a.createContext({language:Ye,setLanguage:function(e){},toggle:function(){}}),tt=function(e){var t=e.children,n=localStorage.getItem($e),r=Object(a.useState)(Ze.includes(n)?n:Ye),i=Object(v.a)(r,2),c=i[0],s=i[1],o=function(e){if(!Ze.includes(e))throw new Error("invalid language '".concat(e,"' is not one of the valid options: '").concat(Ze,"'"));s(e),localStorage.setItem($e,e),d.changeLanguage(e)},l={language:c,setLanguage:o,toggle:function(){return o(Ze[(Ze.indexOf(c)+1)%Ze.length])}};return Object(m.jsx)(et.Provider,{value:l,children:t})};function nt(){var e=r.a.useContext(et);return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:e.toggle,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})})})})}var at,rt=n(163),it=function(e){var t;return null!==(t=parseInt(e))&&void 0!==t?t:e},ct=(at={},Object(N.a)(at,_e,(function(e,t){return e.last_course_datetime.toMillis()-t.last_course_datetime.toMillis()})),Object(N.a)(at,Ge,(function(e,t){return it(e.number)-it(t.number)})),Object(N.a)(at,He,(function(e,t){return it(t.number)-it(e.number)})),at);function st(){var e,t=r.a.useContext(ge),n=r.a.useContext(p),i=Object(a.useState)([]),c=Object(v.a)(i,2),s=(c[0],c[1],Object(a.useState)(_e)),o=Object(v.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(rt.MENU_HOME),b=Object(v.a)(u,2),j=b[0],h=(b[1],t.tables),f=Object(a.useState)([]),x=Object(v.a)(f,2),g=x[0],O=x[1];Object(a.useEffect)((function(){return(e=h).sort(ct[l]),void O(Object(S.a)(e));var e}),[h,l]);var w=function(){return Object(m.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:[Object(m.jsx)(qe,{addNewTable:t.addTable,existingTableNumbers:h.map((function(e){return e.number}))}),g.map((function(e){return Object(m.jsx)(Ne,{table:e},e.id)}))]})};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"p-2 pt-4 pl-8 pr-8 inline-block w-full",children:[Object(m.jsx)("div",{className:"inline-block",children:Object(m.jsx)("p",{className:"font-mono select-none text-4xl ".concat(U),children:null!==(e=n.params.restaurantName)&&void 0!==e?e:"..."})}),Object(m.jsxs)("div",{className:"float-right",children:[Object(m.jsx)(We,{sort:l,setSort:d}),Object(m.jsx)(Xe,{}),Object(m.jsx)(nt,{})]})]}),Object(m.jsx)("div",{className:"p-4",children:j==rt.MENU_HOME?Object(m.jsx)(w,{}):null})]})}var ot=function(){return Object(m.jsx)(Oe,{children:Object(m.jsx)(st,{})})};function lt(e){var t=e.privacyFilter,n=e.setPrivacyFilter;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:function(){return n(!t)},className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})})})}var dt=n(220),ut=n(132);function bt(e){Object(dt.a)(e);var t=Object(je.b)(),n=t.enqueueSnackbar,a=(t.closeSnackbar,Object(Z.a)()),r=a.t,i=(a.i18n,Object(b.g)()),c=Object(ut.useGoogleLogout)({clientId:"1065429339966-mnqu3d47cto138trvdeq945rj6otiu10.apps.googleusercontent.com",onLogoutSuccess:function(){new Promise((function(e,t){me()({url:"".concat("https://fb.unicohotels.com/","/auth/v1/logout"),method:"POST",headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(t){return e()})).catch((function(e){return t()}))})).then((function(){n(r("logOut"),{variant:"success"}),i.push("/login")})).catch((function(){n(r("unableLogOutServer"),{variant:"error"})}))},onLogoutFailure:function(){n(r("unableLogOutGoogle"),{variant:"error"})}}).signOut;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:c,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})})}function mt(e){var t=e.title,n=void 0===t?null:t,a=e.children,r=void 0===a?null:a;return Object(m.jsxs)("div",{className:"m-4 p-4 rounded-lg ".concat(W),children:[n&&Object(m.jsx)("p",{className:"font-mono select-none text-2xl ".concat(U),children:n}),Object(m.jsx)("div",{className:"p-4",children:r})]})}var jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,n){return t(e)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){return n()};return new Promise((function(a,r){me()({url:"".concat("https://fb.unicohotels.com/","/api/v1").concat(e),method:"GET",headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return t(e.data,a,r)})).catch((function(e){return n(e,a,r)}))}))},ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){return t(e)},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return n()};return new Promise((function(r,i){me()({url:"".concat("https://fb.unicohotels.com/","/api/v1").concat(e),method:"POST",data:t,headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return n(e.data,r,i)})).catch((function(e){return a(e,r,i)}))}))},ft=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return t(e)},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t,n){return n()};return new Promise((function(i,c){me()({url:"".concat("https://fb.unicohotels.com/","/api/v1").concat(e,"/").concat(t),method:"PATCH",data:n,headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return a(e.data,i,c)})).catch((function(e){return r(e,i,c)}))}))},vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){return t(e)},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return n()};return new Promise((function(r,i){me()({url:"".concat("https://fb.unicohotels.com/","/api/v1").concat(e,"/").concat(t),method:"DELETE",headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(e){return n(e,r,i)})).catch((function(e){return a(e,r,i)}))}))},xt=function(e){return"/restaurants/".concat(e,"/accessTokens")};function gt(e){var t=e.privacyFilter,n=e.restaurantId,a=e.token,r=e.onDelete,i=e.onPatch,c=Object(je.b)(),s=c.enqueueSnackbar,o=(c.closeSnackbar,Object(Z.a)()),l=o.t,d=(o.i18n,function(){t?s(l("disablePrivMode"),{variant:"warning"}):(navigator.clipboard.writeText(a.url),s(l("urlCopied"),{variant:"success"}))});return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(Ce.c,{initialValues:a,onSubmit:function(e,t){var r=t.setSubmitting,c=t.setErrors;(function(e,t,n){return ft(xt(e),t,{comment:n},(function(e,t,n){return t(e.access_token)}))})(n,a.id,e.comment).then((function(e){i(a.id,e),r(!1),s(l("tokenCommentSaved"),{variant:"success"})}),(function(){c({comment:"unableEndReq"}),r(!1)}))},children:function(e){var n=e.isSubmitting;return Object(m.jsxs)(Ce.b,{children:[Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(Ae,{name:"comment"})}),Object(m.jsx)(ee,{text:l("delete"),disabled:n,onClick:r}),Object(m.jsx)(oe,{text:l("save"),type:"submit",disabled:n,loading:n})]}),Object(m.jsx)("div",{className:"flex pb-2",children:Object(m.jsx)("div",{className:"flex-grow ".concat(t?"filter blur-sm":""),onClick:d,children:Object(m.jsx)(Ae,{name:"url",disabled:!0})})})]})}})})}var Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(a.useState)(t),r=Object(v.a)(n,2),i=r[0],c=r[1],s=function(e){return c([].concat(Object(S.a)(i),[e]))},o=function(t){return c(i.filter((function(n){return n[e]!==t})))},l=function(t,n){return c(i.map((function(a){return a[e]===t?n:a})))};return[i,c,{add:s,remove:o,patch:l}]},pt=function(e){var t=e.restaurantId,n=e.privacyFilter,i=Ot(),c=Object(v.a)(i,3),s=c[0],o=c[1],l=c[2],d=Object(je.b)(),u=d.enqueueSnackbar,b=(d.closeSnackbar,r.a.useContext(ie)),j=r.a.useContext(Ee),h=Object(Z.a)(),f=h.t;h.i18n;Object(a.useEffect)((function(){(function(e){return jt(xt(e),(function(e,t,n){return t(e.access_tokens)}))})(t).then((function(e){return o(e)})).catch((function(e){return u(f("unableGetTokens"),{variant:"error"})}))}),[t]);var x=function(e){b({title:f("delTokenQuest"),description:f("delTokenDescription"),handleSuccess:function(){(function(e,t){return vt(xt(e),t)})(t,e).then((function(){l.remove(e),u(f("delToken"),{variant:"success"})})).catch((function(){u(f("unableDelToken"),{variant:"error"})}))}})},g=function(e,t){l.patch(e,t)};return Object(m.jsxs)(mt,{title:f("access URLs"),children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100",children:s.map((function(e){return Object(m.jsx)(gt,{onPatch:g,restaurantId:t,privacyFilter:n,onDelete:function(){return x(e.id)},token:e},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center  pt-8",children:Object(m.jsx)(oe,{onClick:function(){j.prompt({title:f("description"),description:f("descriptionUsesToken"),handleSubmit:function(e){return new Promise((function(n,a){(function(e,t){return ht(xt(e),{comment:t},(function(e,t,n){return t(e.access_token)}))})(t,e).then((function(e){l.add(e),u(f("addedTable"),{variant:"success"}),n()})).catch((function(){u(f("unableAddTable"),{variant:"error"}),a()}))}))}})},text:f("newMasc"),w:"w-64"})})]})},wt=function(e){return"/restaurants/".concat(e,"/defaultTables")},kt=function(e){var t=e.restaurantId,n=Ot("name"),i=Object(v.a)(n,3),c=i[0],s=i[1],o=i[2],l=Object(je.b)(),d=l.enqueueSnackbar,u=(l.closeSnackbar,Object(a.useState)(null)),b=Object(v.a)(u,2),j=b[0],h=b[1];Object(a.useEffect)((function(){(function(e){return jt(wt(e),(function(e,t,n){return t(e.default_tables)}))})(t).then((function(e){return s(e)})).catch((function(e){return d(O("unableGetTables"),{variant:"error"})}))}),[t]);var f=r.a.useContext(ie),x=r.a.useContext(Ee),g=Object(Z.a)(),O=g.t,p=(g.i18n,function(e){f({title:"".concat(O("deleteTableQuestion")," ").concat(e,"?"),description:"".concat(O("Deleting Table")," ").concat(e," ").concat(O("onlyDeleteFromList")),handleSuccess:function(){h(e),function(e,t){return vt(wt(e),t)}(t,e).then((function(){o.remove(e),d(O("deletedTable"),{variant:"success"})})).catch((function(){d(O("unableDelTable"),{variant:"error"})})).finally((function(){return h(null)}))}})});return Object(m.jsxs)(mt,{title:O("default tables"),children:[c.map((function(e){return Object(m.jsx)(Y,{onClick:function(){return p(e.name)},text:e.name,loading:j===e.name},e.name)})),Object(m.jsx)(oe,{onClick:function(){x.prompt({title:O("table #"),description:O("nameTableQuestion"),handleSubmit:function(e){return new Promise((function(n,a){(function(e,t){return ht(wt(e),{name:t},(function(e,t,n){return t(e.default_table)}))})(t,e).then((function(e){o.add(e),d(O("addedTable"),{variant:"success"}),n()})).catch((function(){d(O("unableAddTable"),{variant:"error"}),a()}))}))}})},text:O("AddNewFem")})]})};function yt(e){var t=e.admin,n=e.privacyFilter,a=e.deleteAdministrator,i=e.deleteAdministratorService,c=Object(je.b)(),s=c.enqueueSnackbar,o=(c.closeSnackbar,r.a.useContext(ie)),l=Object(Z.a)(),d=l.t,u=(l.i18n,function(){o({handleSuccess:function(){i(t.id).then((function(){a(t.id),s(d("adminDel"),{variant:"success"})})).catch((function(){s("unableDelAdmin",{variant:"error"})}))},handleCancel:function(){s("adminNotDel",{variant:"success"})}})});return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(Ce.c,{initialValues:t,onSubmit:function(e,t){t.setSubmitting,t.setErrors},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(Ce.b,{children:Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow ".concat(n?"filter blur-sm":""),children:Object(m.jsx)(Ae,{disabled:!0,name:"email"})}),Object(m.jsx)(ee,{text:d("delete"),onClick:u,disabled:t})]})})}})})}var St=function(e){return"/restaurants/".concat(e,"/administrators")},Nt=function(e){var t=e.restaurantId,n=e.privacyFilter,i=Ot(),c=Object(v.a)(i,3),s=c[0],o=c[1],l=c[2],d=Object(je.b)(),u=d.enqueueSnackbar,b=(d.closeSnackbar,r.a.useContext(Ee)),j=Object(Z.a)(),h=j.t;j.i18n;Object(a.useEffect)((function(){(function(e){return jt(St(e),(function(e,t,n){return t(e.administrators)}))})(t).then((function(e){return o(e)})).catch((function(e){return u(h("unableGetAdmins"),{variant:"error"})}))}),[t]);return Object(m.jsxs)(mt,{title:h("restAdmins"),children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500",children:s.map((function(e){return Object(m.jsx)(yt,{admin:e,privacyFilter:n,deleteAdministrator:l.remove,deleteAdministratorService:function(e){return function(e,t){return vt(St(e),t)}(t,e)}},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center  pt-8",children:Object(m.jsx)(oe,{onClick:function(){b.prompt({title:h("administratorEmail"),description:h("descriptionAddAdmin"),handleSubmit:function(e){return new Promise((function(n,a){(function(e,t){return ht(St(e),{email:t},(function(e,t,n){return t(e.administrator)}))})(t,e).then((function(e){l.add(e),u(h("addAdmin"),{variant:"success"}),n()})).catch((function(){u(h("unableAddAdmin"),{variant:"error"}),a()}))}))},handleCancel:function(){return u(h("cancelled"),{variant:"warning"})}})},text:h("AddNewMasc"),w:"w-64"})})]})},Ct=function(e){var t=e.setView,n=Object(Z.a)().t;return Object(m.jsx)(mt,{title:n("shortcuts"),children:Object(m.jsx)(oe,{onClick:function(){return t("stats")},text:n("statistics")})})},Tt="/restaurants",At=function(e,t){return ft(Tt,e,t,(function(e,t,n){return t(e.restaurant)}))};function Dt(e){var t=e.restaurantId,n=e.prefix,a=e.onPatch,r=e.profileName,i=e.profileValue,c=Object(je.b)().enqueueSnackbar,s=Object(Z.a)(),o=s.t;s.i18n;return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(Ce.c,{initialValues:{profile:i},enableReinitialize:!0,onSubmit:function(e,n){var i=n.setSubmitting,s=n.setErrors,l=e.profile;At(t,Object(N.a)({},r,l)).then((function(e){a(e[r]),i(!1),c(o("timeProfSaved"),{variant:"success"})}),(function(){s({comment:o("unableEndReq")}),i(!1)}))},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(Ce.b,{children:Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(Ae,{name:"profile"})}),Object(m.jsx)(oe,{text:"".concat(o("save")," ").concat(o(n)),w:"w-32",type:"submit",disabled:t,loading:t})]})})}})})}var Lt=function(e){var t=e.restaurantId,n=Object(je.b)().enqueueSnackbar,r=Object(a.useState)({alarm_minutes:20,warning_minutes:15}),i=Object(v.a)(r,2),c=i[0],s=i[1],o=Object(Z.a)(),l=o.t;o.i18n;return Object(a.useEffect)((function(){var e;(e=t,jt("".concat(Tt,"/").concat(e),(function(e,t,n){return t(e.restaurant)}))).then((function(e){return s({alarm_minutes:e.alarm_minutes,warning_minutes:e.warning_minutes})})).catch((function(){return n(l("unableGetRest"),{variant:"error"})}))}),[t]),Object(m.jsx)(mt,{title:l("time profile"),children:Object(m.jsxs)("div",{className:"grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100",children:[Object(m.jsx)(Dt,{onPatch:function(e){return s(Object(h.a)(Object(h.a)({},c),{},{alarm_minutes:e}))},restaurantId:t,profileValue:c.alarm_minutes,profileName:"alarm_minutes",prefix:"alarm"}),Object(m.jsx)(Dt,{onPatch:function(e){return s(Object(h.a)(Object(h.a)({},c),{},{warning_minutes:e}))},restaurantId:t,profileValue:c.warning_minutes,profileName:"warning_minutes",prefix:"warning"})]})})},Et=n(431),Rt=n(138),It=n(139),Ft=n(109),Pt=n(104),Mt=n(232),qt=function(e){var t=e.preparedData,n=Object(Z.a)().t,a=r.a.useContext(Ke).theme===Ve?"#ffffff":"#000000";return Object(m.jsx)(mt,{title:n("historic-average-waiting-time"),children:Object(m.jsxs)(Et.a,{width:730,height:250,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(m.jsx)(Rt.a,{dataKey:"date",stroke:a}),Object(m.jsx)(It.a,{dataKey:"averageWaitingTime",stroke:a}),Object(m.jsx)(Ft.a,{}),Object(m.jsx)(Pt.a,{}),Object(m.jsx)(Mt.a,{type:"monotone",dataKey:"averageWaitingTime",stroke:a})]})})},_t=n(435),Gt=n(236),Ht=function(e){e.restaurantId;var t=e.preparedData,n=Object(Z.a)().t,a=r.a.useContext(Ke).theme===Ve?"#ffffff":"#000000";return Object(m.jsx)(mt,{title:n("average-waiting-time-per-course"),children:Object(m.jsxs)(_t.a,{width:730,height:250,data:t,children:[Object(m.jsx)(Rt.a,{dataKey:"course"}),Object(m.jsx)(It.a,{}),Object(m.jsx)(Ft.a,{}),Object(m.jsx)(Pt.a,{}),Object(m.jsx)(Gt.a,{dataKey:"waiting time (minutes)",fill:a})]})})},zt=function(e){var t=e.onSearch,n=e.startDate,a=e.setStartDate,r=e.endDate,i=e.setEndDate,c=e.startTime,s=e.setStartTime,o=e.endTime,l=e.setEndTime,d=Object(Z.a)().t;return Object(m.jsxs)(mt,{children:[Object(m.jsxs)("div",{className:"flex items-center pb-2",children:[Object(m.jsx)("span",{className:"mx-4 text-gray-500",children:"from"}),Object(m.jsx)("div",{className:"relative",children:Object(m.jsx)("input",{name:"start",type:"date",value:n,onChange:function(e){return a(e.target.value)},className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date start"})}),Object(m.jsx)("span",{className:"mx-4 text-gray-500",children:"to"}),Object(m.jsx)("div",{className:"relative",children:Object(m.jsx)("input",{name:"end",type:"date",value:r,onChange:function(e){return i(e.target.value)},className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date end"})})]}),Object(m.jsxs)("div",{className:"flex items-center pb-2",children:[Object(m.jsx)("span",{className:"mx-4 text-gray-500",children:"from"}),Object(m.jsx)("div",{className:"relative",children:Object(m.jsx)("input",{name:"start",type:"time",value:c,onChange:function(e){return s(e.target.value)},className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date start"})}),Object(m.jsx)("span",{className:"mx-4 text-gray-500",children:"to"}),Object(m.jsx)("div",{className:"relative",children:Object(m.jsx)("input",{name:"end",type:"time",value:o,onChange:function(e){return l(e.target.value)},className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date end"})})]}),Object(m.jsx)("div",{children:Object(m.jsx)(oe,{onClick:t,text:d("Search")})})]})},Wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.round(e*n+Number.EPSILON)/n};var Ut=function(e){var t=e.restaurant,n=r.a.useState("2001-01-01"),a=Object(v.a)(n,2),i=a[0],c=a[1],s=r.a.useState("3001-01-01"),o=Object(v.a)(s,2),l=o[0],d=o[1],u=r.a.useState("00:00"),b=Object(v.a)(u,2),j=b[0],h=b[1],f=r.a.useState("23:59"),x=Object(v.a)(f,2),g=x[0],O=x[1],p=r.a.useState([]),w=Object(v.a)(p,2),k=w[0],y=w[1],S=r.a.useState([]),N=Object(v.a)(S,2),C=N[0],T=N[1];return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(zt,{onSearch:function(){void 0!==t.id&&""!==i&&""!==l&&""!==j&&""!==g&&(function(e,t,n,a,r){return jt(function(e,t,n,a,r){return"/statistics/waitingTime/courses?startTime=".concat(t,"&endTime=").concat(n,"&startDate=").concat(a,"&endDate=").concat(r,"&restaurantId=").concat(e)}(e,t,n,a,r),(function(e,t,n){return t(e.average)}))}(t.id,j,g,i,l).then((function(e){var t=Object.entries(e).map((function(e){return{course:e[0],"waiting time (minutes)":Wt(e[1]/60,2)}}));y(t)})),function(e,t,n,a,r){return jt(function(e,t,n,a,r){return"/statistics/waitingTime/historic?startTime=".concat(t,"&endTime=").concat(n,"&startDate=").concat(a,"&endDate=").concat(r,"&restaurantId=").concat(e)}(e,t,n,a,r),(function(e,t,n){return t(e.average)}))}(t.id,j,g,i,l).then((function(e){var t=Object.entries(e).map((function(e){return{date:e[0],averageWaitingTime:e[1]/60}}));T(t)})))},startDate:i,endDate:l,setStartDate:c,setEndDate:d,startTime:j,endTime:g,setStartTime:h,setEndTime:O}),Object(m.jsx)(qt,{restaurantId:t.id,preparedData:C}),Object(m.jsx)(Ht,{preparedData:k,restaurantId:t.id})]})},Vt="home";var Qt=function(e){var t=e.privacyFilter,n=e.restaurant,i=r.a.useContext(p),c=Object(a.useState)(Vt),s=Object(v.a)(c,2),o=s[0],l=s[1];return o===Vt?Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(Ct,{setView:l}),Object(m.jsx)(kt,{restaurantId:n.id}),Object(m.jsx)(pt,{privacyFilter:t,restaurantId:n.id}),Object(m.jsx)(Lt,{restaurantId:n.id}),i.isSuperAdminLoggedIn&&Object(m.jsx)(Nt,{privacyFilter:t,restaurantId:n.id})]}):"stats"===o?Object(m.jsx)(r.a.Fragment,{children:Object(m.jsx)(Ut,{restaurant:n})}):Object(m.jsx)(r.a.Fragment,{children:"404 - view does not exist"})},Bt="/administrators/super",Kt=function(e){return vt(Bt,e)},Jt=function(e){var t=e.privacyFilter,n=Ot(),i=Object(v.a)(n,3),c=i[0],s=i[1],o=i[2],l=Object(je.b)(),d=l.enqueueSnackbar,u=(l.closeSnackbar,r.a.useContext(Ee)),b=Object(Z.a)(),j=b.t;b.i18n;Object(a.useEffect)((function(){jt(Bt,(function(e,t,n){return t(e.administrators)})).then((function(e){return s(e)})).catch((function(e){return d(j("unableGetRAdmin"),{variant:"error"})}))}),[]);return Object(m.jsxs)(mt,{title:j("rAdmins"),children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500",children:c.map((function(e){return Object(m.jsx)(yt,{admin:e,privacyFilter:t,deleteAdministrator:o.remove,deleteAdministratorService:Kt},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center  pt-8",children:Object(m.jsx)(oe,{onClick:function(){u.prompt({title:j("administratorEmail"),description:j("descriptionAddRAdmin"),handleSubmit:function(e){return new Promise((function(t,n){(function(e){return ht(Bt,{email:e},(function(e,t,n){return t(e.administrator)}))})(e).then((function(e){o.add(e),d(j("addRAdmin"),{variant:"success"}),t()})).catch((function(){d(j("unableAddRAdmin"),{variant:"error"}),n()}))}))},handleCancel:function(){return d(j("cancelled"),{variant:"warning"})}})},text:j("ADD NEW"),w:"w-64"})})]})};function Xt(e){var t=e.restaurant,n=e.setRestaurant,a=e.patchRestaurant,i=e.deleteRestaurant,c=Object(je.b)(),s=c.enqueueSnackbar,o=(c.closeSnackbar,r.a.useContext(ie)),l=Object(Z.a)(),d=l.t,u=(l.i18n,function(){o({handleSuccess:function(){var e;(e=t.id,vt(Tt,e)).then((function(){i(t.id),s(d("restDel"),{variant:"success"})})).catch((function(){s(d("unableDelRest"),{variant:"error"})}))},handleCancel:function(){s(d("restNotDel"),{variant:"success"})}})}),b=function(){return n(t)};return Object(m.jsx)("div",{className:"py-4",children:Object(m.jsx)(Ce.c,{initialValues:t,onSubmit:function(e,n){var r=n.setSubmitting,i=n.setErrors;At(t.id,{name:e.name}).then((function(e){a(t.id,e),r(!1),s(d("NameSaved"),{variant:"success"})}),(function(){i({comment:d("unableEndReq")}),r(!1)}))},children:function(e){var t=e.isSubmitting;return Object(m.jsx)(Ce.b,{children:Object(m.jsxs)("div",{className:"flex pt-2",children:[Object(m.jsx)("div",{className:"flex-grow",children:Object(m.jsx)(Ae,{name:"name"})}),Object(m.jsx)(ee,{text:d("delete"),onClick:u,disabled:t}),Object(m.jsx)(oe,{text:d("save"),type:"submit",disabled:t,loading:t}),Object(m.jsx)(Y,{text:d("admin"),onClick:b,disabled:t})]})})}})})}var Yt=function(e){var t=e.setRestaurant,n=Ot(),i=Object(v.a)(n,3),c=i[0],s=i[1],o=i[2],l=Object(je.b)(),d=l.enqueueSnackbar,u=(l.closeSnackbar,r.a.useContext(Ee)),b=Object(Z.a)(),j=b.t;b.i18n;Object(a.useEffect)((function(){jt(Tt,(function(e,t,n){return t(e.restaurants)})).then((function(e){return s(e)})).catch((function(e){return d(j("unableGetRests"),{variant:"error"})}))}),[]);return Object(m.jsxs)(mt,{title:j("restaurants"),children:[Object(m.jsx)("div",{className:"grid grid-cols-1 divide-y divide-gray-500",children:c.map((function(e){return Object(m.jsx)(Xt,{patchRestaurant:o.patch,deleteRestaurant:o.remove,restaurant:e,setRestaurant:t},e.id)}))}),Object(m.jsx)("div",{className:"grid justify-items-center pt-8",children:Object(m.jsx)(oe,{onClick:function(){u.prompt({title:j("restName"),description:j("newRestDescription"),handleSubmit:function(e){return new Promise((function(t,n){(function(e){return ht(Tt,{name:e},(function(e,t,n){return t(e.restaurant)}))})(e).then((function(e){o.add(e),d(j("addRest"),{variant:"success"}),t()})).catch((function(){d(j("unableAddRest"),{variant:"error"}),n()}))}))},handleCancel:function(){return d(j("cancelled"),{variant:"warning"})}})},text:j("AddNewMasc"),w:"w-64"})})]})};var Zt=function(e){var t=e.privacyFilter,n=e.setRestaurant;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(Yt,{setRestaurant:n}),Object(m.jsx)(Jt,{privacyFilter:t})]})};function $t(e){var t=e.handleClick;return Object(m.jsx)("div",{className:"p-2 inline-block",children:Object(m.jsx)("div",{onClick:t,className:"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})})})})}var en=function(){var e,t=r.a.useContext(p),n=Object(a.useState)(!0),i=Object(v.a)(n,2),c=i[0],s=i[1],o=Object(a.useState)(null),l=Object(v.a)(o,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){null!==t.params.restaurantId?u({id:t.params.restaurantId,name:t.params.restaurantName}):u(null)}),[t.params]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"p-2 pl-8 pr-8",children:[Object(m.jsx)("div",{className:"inline-block",children:Object(m.jsx)("p",{className:"font-mono text-4xl ".concat(U),children:t.isSuperAdminLoggedIn&&null===d?"root admin":null!==(e=d.name)&&void 0!==e?e:"..."})}),Object(m.jsxs)("div",{className:"float-right",children:[t.isSuperAdminLoggedIn&&null!==d&&Object(m.jsx)($t,{handleClick:function(){return u(null)}}),Object(m.jsx)(Xe,{}),Object(m.jsx)(nt,{}),Object(m.jsx)(lt,{privacyFilter:c,setPrivacyFilter:s}),Object(m.jsx)(bt,{})]})]}),Object(m.jsx)("div",{className:"inline-block w-full",children:t.isRestaurantAdminLoggedIn||null!==d?Object(m.jsx)(Qt,{privacyFilter:c,restaurant:d}):Object(m.jsx)(Zt,{privacyFilter:c,setRestaurant:u})})]})};var tn=function(){var e=Object(je.b)().enqueueSnackbar,t=r.a.useContext(p),n=Object(b.g)(),a=Object(b.h)(),i=Object(Z.a)(),c=i.t;return i.i18n,Object(m.jsx)("div",{className:"flex items-center justify-center h-screen",children:Object(m.jsx)(ut.GoogleLogin,{clientId:"1065429339966-mnqu3d47cto138trvdeq945rj6otiu10.apps.googleusercontent.com",buttonText:c("Login"),onSuccess:function(r){var i;(i=r.tokenObj.id_token,new Promise((function(e,t){me()({url:"".concat("https://fb.unicohotels.com/","/auth/v1/login/google"),method:"POST",auth:{username:"",password:i},headers:Object(h.a)({"Cache-Control":"no-cache"},ue())}).then((function(t){return e([!0,t.data])})).catch((function(n){try{401===n.response.status&&e(!1)}catch(a){}t(n)}))}))).then((function(r){var i=Object(v.a)(r,2),s=i[0],o=i[1];if(s){t.setType(o.type),t.setParams(o);var l=(a.state||{from:{pathname:"/admin"}}).from;n.push(l),e(c("logIn"),{variant:"success"})}else e(c("userNotExist"),{variant:"warning"})})).catch((function(){e(c("unableLogInServer"),{variant:"error"})}))},onFailure:function(t){e(c("unableLogInGoogle"),{variant:"error"})},cookiePolicy:"single_host_origin"})})};var nn=function(){var e=r.a.createRef();return Object(m.jsx)(Je,{children:Object(m.jsx)("div",{className:"App ".concat(_," min-h-screen min-w-screen"),children:Object(m.jsx)(tt,{children:Object(m.jsx)(je.a,{children:Object(m.jsx)(w,{children:Object(m.jsx)(ce,{children:Object(m.jsx)(Re,{children:Object(m.jsx)(u.a,{ref:e,basename:"/app",children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(y,{path:"/admin",baseRouter:e,component:en,type:[g,O]}),Object(m.jsx)(b.b,{path:"/restaurant",component:ot}),Object(m.jsx)(b.b,{path:"/login",component:tn}),Object(m.jsx)(b.b,{component:j})]})})})})})})})})})},an=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,438)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(nn,{})}),document.getElementById("root")),an()}},[[418,1,2]]]);
//# sourceMappingURL=main.0cd7d168.chunk.js.map